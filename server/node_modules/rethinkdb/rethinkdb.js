(function(){
function d(a){throw a;}var i=void 0,j=!0,l=null,m=!1;function aa(){return function(a){return a}}var n,ba="undefined"===typeof global?window:global;ba.Ab||(ba.Ab={});var p=ba.Ab;p.global=ba;p.Sa=j;p.de="en";p.gg=function(a){p.wb(a)};p.pg=function(a){p.Sa||(a=a||"",d(Error("Importing test-only code into non-debug environment"+a?": "+a:".")))};
p.wb=function(a,b,c){a=a.split(".");c=c||p.global;!(a[0]in c)&&c.execScript&&c.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)!a.length&&p.ra(b)?c[e]=b:c=c[e]?c[e]:c[e]={}};p.Ef=function(a,b){for(var c=a.split("."),e=b||p.global,f;f=c.shift();)if(p.Ac(e[f]))e=e[f];else return l;return e};p.If=function(a,b){var c=b||p.global,e;for(e in a)c[e]=a[e]};p.Qe=function(){};p.Fd=j;p.lg=function(){};p.$e="";p.ag=function(){};p.Kf=aa();p.Pe=function(){d(Error("unimplemented abstract method"))};
p.Re=function(a){a.Bf=function(){if(a.Fb)return a.Fb;p.Sa&&(p.Gb[p.Gb.length]=a);return a.Fb=new a}};p.Gb=[];
p.Q=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b};p.ra=function(a){return a!==i};p.Rf=function(a){return a===l};p.Ac=function(a){return a!=l};p.isArray=function(a){return"array"==p.Q(a)};p.Ha=function(a){var b=p.Q(a);return"array"==b||"object"==b&&"number"==typeof a.length};p.Pf=function(a){return p.Ja(a)&&"function"==typeof a.getFullYear};p.v=function(a){return"string"==typeof a};p.Hb=function(a){return"boolean"==typeof a};p.Ib=function(a){return"number"==typeof a};
p.Bc=function(a){return"function"==p.Q(a)};p.Ja=function(a){var b=typeof a;return"object"==b&&a!=l||"function"==b};p.zb=function(a){return a[p.ya]||(a[p.ya]=++p.dd)};p.Sc=function(a){"removeAttribute"in a&&a.removeAttribute(p.ya);try{delete a[p.ya]}catch(b){}};p.ya="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36);p.dd=0;p.Af=p.zb;p.jg=p.Sc;p.ic=function(a){var b=p.Q(a);if("object"==b||"array"==b){if(a.W)return a.W();var b="array"==b?[]:{},c;for(c in a)b[c]=p.ic(a[c]);return b}return a};
p.gc=function(a,b,c){return a.call.apply(a.bind,arguments)};p.fc=function(a,b,c){a||d(Error());if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,e);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}};p.bind=function(a,b,c){p.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p.gc:p.fc;return p.bind.apply(l,arguments)};
p.Nc=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}};p.Yf=function(a,b){for(var c in b)a[c]=b[c]};p.now=Date.now||function(){return+new Date};
p.Hf=function(a){if(p.global.execScript)p.global.execScript(a,"JavaScript");else if(p.global.eval)if(p.Ca==l&&(p.global.eval("var _et_ = 1;"),"undefined"!=typeof p.global._et_?(delete p.global._et_,p.Ca=j):p.Ca=m),p.Ca)p.global.eval(a);else{var b=p.global.document,c=b.createElement("script");c.type="text/javascript";c.defer=m;c.appendChild(b.createTextNode(a));b.body.appendChild(c);b.body.removeChild(c)}else d(Error("goog.globalEval not available"))};p.Ca=l;
p.zf=function(a,b){function c(a){for(var a=a.split("-"),b=[],c=0;c<a.length;c++)b.push(e(a[c]));return b.join("-")}function e(a){return p.tb[a]||a}var f;f=p.tb?"BY_WHOLE"==p.lc?e:c:aa();return b?a+"-"+f(b):f(a)};p.ng=function(a,b){p.tb=a;p.lc=b};p.Df=function(a,b){var c=b||{},e;for(e in c)var f=(""+c[e]).replace(/\$/g,"$$$$"),a=a.replace(RegExp("\\{\\$"+e+"\\}","gi"),f);return a};p.q=function(a,b){p.wb(a,b,i)};p.f=function(a,b,c){a[b]=c};
p.e=function(a,b){function c(){}c.prototype=b.prototype;a.Pa=b.prototype;a.prototype=new c;a.prototype.constructor=a};p.Ze=function(a,b,c){var e=arguments.callee.caller;if(e.Pa)return e.Pa.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=m,h=a.constructor;h;h=h.Pa&&h.Pa.constructor)if(h.prototype[b]===e)g=j;else if(g)return h.prototype[b].apply(a,f);if(a[b]===e)return a.constructor.prototype[b].apply(a,f);d(Error("goog.base called from a method of one name to a method of a different name"))};
p.scope=function(a){a.call(p.global)};p.global.rethinkdb=function(a){return q(a)};function s(a){return a instanceof t?a:q(a)}function v(a){return a instanceof ca?a:da(a)}function w(a,b){if(a){var c=b;p.isArray(b)||(c=[c]);c.some(function(b){return"string"===typeof b?typeof a===b:a instanceof b})||(p.isArray(b)&&d(new TypeError("Function argument "+a+" must be one of the types "+b)),d(new TypeError("Function argument "+a+" must be of the type "+b)))}}
function x(a,b){a.length<b&&d(new TypeError("Function requires at least "+b+" argument"+(1<b?"s.":".")))}function y(a){function b(a){x(arguments,1);return z.prototype.Fa.call(b,a)}var c=arguments[0],e=Array.prototype.slice.call(arguments,1);b.__proto__=c.prototype;c.apply(b,e);return b};function q(a){return a instanceof z?a:a===l||p.Ib(a)?y(ea,a):p.Hb(a)?y(fa,a):p.v(a)?y(ga,a):p.isArray(a)?y(ha,a):p.Ja(a)?y(ia,a):y(ja,a)}p.q("rethinkdb.expr",q);p.q("rethinkdb.js",function(a){x(arguments,1);w(a,"string");return y(ka,a)});p.q("rethinkdb.table",function(a,b){x(arguments,1);w(a,"string");w(b,"boolean");return y(A,a,l,b)});p.q("rethinkdb.union",function(a){x(arguments,2);var b=s(arguments[0]);return z.prototype.Sb.apply(b,Array.prototype.slice.call(arguments,1))});function t(){}
t.prototype.ma=function(a){var b,c,e;"function"===typeof a?b=a:a&&(b=a.callback,c=a.connection,e=a.useOutdated);(c=c||la)||d(new C("No connection specified and no last connection to default to."));return c.ma(this,{callback:b,useOutdated:e})};p.f(t.prototype,"run",t.prototype.ma);t.prototype.Tc=function(a){(a?a.ma(this):this.ma(i)).Va(function(a){1===a.length&&(a=a[0]);console.log(a)})};p.f(t.prototype,"runp",t.prototype.Tc);t.prototype.a=function(){return"----"};function ma(){}p.e(ma,t);
ma.prototype.B=function(a){var b=new na,a=this.compile(a);b.Oa(a);a=new D;a.g(oa);E(a,3,b);return a};p.debug={};function pa(a){Error.captureStackTrace?Error.captureStackTrace(this,pa):this.stack=Error().stack||"";a&&(this.message=String(a))}p.e(pa,Error);pa.prototype.name="CustomError";p.c={};p.c.tg=function(a,b){return 0==a.lastIndexOf(b,0)};p.c.qf=function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c};p.c.hf=function(a,b){return 0==p.c.pb(b,a.substr(0,b.length))};p.c.gf=function(a,b){return 0==p.c.pb(b,a.substr(a.length-b.length,b.length))};p.c.Wc=function(a,b){for(var c=1;c<arguments.length;c++)var e=String(arguments[c]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,e);return a};p.c.kf=function(a){return a.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")};p.c.Ia=function(a){return/^[\s\xa0]*$/.test(a)};
p.c.Qf=function(a){return p.c.Ia(p.c.Ec(a))};p.c.Of=function(a){return!/[^\t\n\r ]/.test(a)};p.c.Mf=function(a){return!/[^a-zA-Z]/.test(a)};p.c.ab=function(a){return!/[^0-9]/.test(a)};p.c.Nf=function(a){return!/[^a-zA-Z0-9]/.test(a)};p.c.Uf=function(a){return" "==a};p.c.Vf=function(a){return 1==a.length&&" "<=a&&"~">=a||"\u0080"<=a&&"\ufffd">=a};p.c.ug=function(a){return a.replace(/(\r\n|\r|\n)+/g," ")};p.c.ff=function(a){return a.replace(/(\r\n|\r|\n)/g,"\n")};
p.c.$f=function(a){return a.replace(/\xa0|\s/g," ")};p.c.Zf=function(a){return a.replace(/\xa0|[ \t]+/g," ")};p.c.jf=function(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};p.c.trim=function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};p.c.trimLeft=function(a){return a.replace(/^[\s\xa0]+/,"")};p.c.trimRight=function(a){return a.replace(/[\s\xa0]+$/,"")};p.c.pb=function(a,b){var c=String(a).toLowerCase(),e=String(b).toLowerCase();return c<e?-1:c==e?0:1};
p.c.Kb=/(\.\d+)|(\d+)|(\D+)/g;p.c.bg=function(a,b){if(a==b)return 0;if(!a)return-1;if(!b)return 1;for(var c=a.toLowerCase().match(p.c.Kb),e=b.toLowerCase().match(p.c.Kb),f=Math.min(c.length,e.length),g=0;g<f;g++){var h=c[g],k=e[g];if(h!=k)return c=parseInt(h,10),!isNaN(c)&&(e=parseInt(k,10),!isNaN(e)&&c-e)?c-e:h<k?-1:1}return c.length!=e.length?c.length-e.length:a<b?-1:1};p.c.Dg=function(a){return encodeURIComponent(String(a))};p.c.Cg=function(a){return decodeURIComponent(a.replace(/\+/g," "))};
p.c.Hc=function(a,b){return a.replace(/(\r\n|\r|\n)/g,b?"<br />":"<br>")};p.c.Cb=function(a){if(!p.c.bc.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(p.c.cc,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(p.c.Dc,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(p.c.yc,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(p.c.Qc,"&quot;"));return a};p.c.cc=/&/g;p.c.Dc=/</g;p.c.yc=/>/g;p.c.Qc=/\"/g;p.c.bc=/[&<>\"]/;p.c.Rb=function(a){return p.c.contains(a,"&")?"document"in p.global?p.c.ed(a):p.c.fd(a):a};
p.c.ed=function(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},c=document.createElement("div");return a.replace(p.c.$b,function(a,f){var g=b[a];if(g)return g;if("#"==f.charAt(0)){var h=Number("0"+f.substr(1));isNaN(h)||(g=String.fromCharCode(h))}g||(c.innerHTML=a+" ",g=c.firstChild.nodeValue.slice(0,-1));return b[a]=g})};
p.c.fd=function(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if("#"==c.charAt(0)){var e=Number("0"+c.substr(1));if(!isNaN(e))return String.fromCharCode(e)}return a}})};p.c.$b=/&([^;\s<&]+);?/g;p.c.Eg=function(a,b){return p.c.Hc(a.replace(/  /g," &#160;"),b)};
p.c.vg=function(a,b){for(var c=b.length,e=0;e<c;e++){var f=1==c?b:b.charAt(e);if(a.charAt(0)==f&&a.charAt(a.length-1)==f)return a.substring(1,a.length-1)}return a};p.c.truncate=function(a,b,c){c&&(a=p.c.Rb(a));a.length>b&&(a=a.substring(0,b-3)+"...");c&&(a=p.c.Cb(a));return a};
p.c.Bg=function(a,b,c,e){c&&(a=p.c.Rb(a));if(e&&a.length>b)e>b&&(e=b),a=a.substring(0,b-e)+"..."+a.substring(a.length-e);else if(a.length>b)var e=Math.floor(b/2),f=a.length-e,a=a.substring(0,e+b%2)+"..."+a.substring(f);c&&(a=p.c.Cb(a));return a};p.c.ib={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\"};p.c.Ka={"'":"\\'"};
p.c.quote=function(a){a=String(a);if(a.quote)return a.quote();for(var b=['"'],c=0;c<a.length;c++){var e=a.charAt(c),f=e.charCodeAt(0);b[c+1]=p.c.ib[e]||(31<f&&127>f?e:p.c.vb(e))}b.push('"');return b.join("")};p.c.rf=function(a){for(var b=[],c=0;c<a.length;c++)b[c]=p.c.vb(a.charAt(c));return b.join("")};
p.c.vb=function(a){if(a in p.c.Ka)return p.c.Ka[a];if(a in p.c.ib)return p.c.Ka[a]=p.c.ib[a];var b=a,c=a.charCodeAt(0);if(31<c&&127>c)b=a;else{if(256>c){if(b="\\x",16>c||256<c)b+="0"}else b="\\u",4096>c&&(b+="0");b+=c.toString(16).toUpperCase()}return p.c.Ka[a]=b};p.c.xg=function(a){for(var b={},c=0;c<a.length;c++)b[a.charAt(c)]=j;return b};p.c.contains=function(a,b){return-1!=a.indexOf(b)};p.c.sb=function(a,b){return a&&b?a.split(b).length-1:0};
p.c.Ma=function(a,b,c){var e=a;0<=b&&(b<a.length&&0<c)&&(e=a.substr(0,b)+a.substr(b+c,a.length-b-c));return e};p.c.remove=function(a,b){var c=RegExp(p.c.gb(b),"");return a.replace(c,"")};p.c.hg=function(a,b){var c=RegExp(p.c.gb(b),"g");return a.replace(c,"")};p.c.gb=function(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};p.c.repeat=function(a,b){return Array(b+1).join(a)};
p.c.cg=function(a,b,c){a=p.ra(c)?a.toFixed(c):String(a);c=a.indexOf(".");-1==c&&(c=a.length);return p.c.repeat("0",Math.max(0,b-c))+a};p.c.Ec=function(a){return a==l?"":String(a)};p.c.ef=function(a){return Array.prototype.join.call(arguments,"")};p.c.Ff=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^p.now()).toString(36)};
p.c.mf=function(a,b){for(var c=0,e=p.c.trim(String(a)).split("."),f=p.c.trim(String(b)).split("."),g=Math.max(e.length,f.length),h=0;0==c&&h<g;h++){var k=e[h]||"",u=f[h]||"",r=RegExp("(\\d*)(\\D*)","g"),B=RegExp("(\\d*)(\\D*)","g");do{var M=r.exec(k)||["","",""],Ia=B.exec(u)||["","",""];if(0==M[0].length&&0==Ia[0].length)break;c=p.c.Wa(0==M[1].length?0:parseInt(M[1],10),0==Ia[1].length?0:parseInt(Ia[1],10))||p.c.Wa(0==M[2].length,0==Ia[2].length)||p.c.Wa(M[2],Ia[2])}while(0==c)}return c};
p.c.Wa=function(a,b){return a<b?-1:a>b?1:0};p.c.Zb=4294967296;p.c.Jf=function(a){for(var b=0,c=0;c<a.length;++c)b=31*b+a.charCodeAt(c),b%=p.c.Zb;return b};p.c.gd=2147483648*Math.random()|0;p.c.of=function(){return"goog_"+p.c.gd++};p.c.xa=function(a){var b=Number(a);return 0==b&&p.c.Ia(a)?NaN:b};p.c.wg=function(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};p.c.yg=function(a){return String(a).replace(/([A-Z])/g,"-$1").toLowerCase()};
p.c.zg=function(a,b){var c=p.v(b)?p.c.gb(b):"\\s";return a.replace(RegExp("(^"+(c?"|["+c+"]+":"")+")([a-z])","g"),function(a,b,c){return b+c.toUpperCase()})};p.c.dg=function(a){isFinite(a)&&(a=String(a));return p.v(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN};p.p={};p.p.U=p.Sa;function qa(a,b){b.unshift(a);pa.call(this,p.c.Wc.apply(l,b));b.shift();this.Xf=a}p.e(qa,pa);qa.prototype.name="AssertionError";p.p.X=function(a,b,c,e){var f="Assertion failed";if(c)var f=f+(": "+c),g=e;else a&&(f+=": "+a,g=b);d(new qa(""+f,g||[]))};p.p.assert=function(a,b,c){p.p.U&&!a&&p.p.X("",l,b,Array.prototype.slice.call(arguments,2));return a};p.p.sf=function(a,b){p.p.U&&d(new qa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};
p.p.We=function(a,b,c){p.p.U&&!p.Ib(a)&&p.p.X("Expected number but got %s: %s.",[p.Q(a),a],b,Array.prototype.slice.call(arguments,2));return a};p.p.Ye=function(a,b,c){p.p.U&&!p.v(a)&&p.p.X("Expected string but got %s: %s.",[p.Q(a),a],b,Array.prototype.slice.call(arguments,2));return a};p.p.Ue=function(a,b,c){p.p.U&&!p.Bc(a)&&p.p.X("Expected function but got %s: %s.",[p.Q(a),a],b,Array.prototype.slice.call(arguments,2));return a};
p.p.Xe=function(a,b,c){p.p.U&&!p.Ja(a)&&p.p.X("Expected object but got %s: %s.",[p.Q(a),a],b,Array.prototype.slice.call(arguments,2));return a};p.p.Se=function(a,b,c){p.p.U&&!p.isArray(a)&&p.p.X("Expected array but got %s: %s.",[p.Q(a),a],b,Array.prototype.slice.call(arguments,2));return a};p.p.Te=function(a,b,c){p.p.U&&!p.Hb(a)&&p.p.X("Expected boolean but got %s: %s.",[p.Q(a),a],b,Array.prototype.slice.call(arguments,2));return a};
p.p.Ve=function(a,b,c,e){p.p.U&&!(a instanceof b)&&p.p.X("instanceof check failed.",l,c,Array.prototype.slice.call(arguments,3));return a};p.h={};p.h.i={};p.h.i.ac=m;p.h.i.assert=function(){};p.h.i.qb=function(){return p.h.i.ac};function ra(a,b,c){this.Mc=a;p.h.i.assert(p.c.ab(b));this.G=b;this.L=c.name;this.$=!!c.R;this.Sf=!!c.required;this.K=c.b;this.eb=c.type;this.oc=m;switch(this.K){case sa:case ta:case ua:case va:case wa:this.oc=j}this.Za=c.defaultValue}var sa=3,ta=4,ua=6,va=16,wa=18;ra.prototype.Z=function(){return this.Mc.A};function xa(a){return 11==a.K||10==a.K}function ya(a){return a.$};p.object={};p.object.forEach=function(a,b,c){for(var e in a)b.call(c,a[e],e,a)};p.object.filter=function(a,b,c){var e={},f;for(f in a)b.call(c,a[f],f,a)&&(e[f]=a[f]);return e};p.object.map=function(a,b,c){var e={},f;for(f in a)e[f]=b.call(c,a[f],f,a);return e};p.object.some=function(a,b,c){for(var e in a)if(b.call(c,a[e],e,a))return j;return m};p.object.every=function(a,b,c){for(var e in a)if(!b.call(c,a[e],e,a))return m;return j};p.object.yf=function(a){var b=0,c;for(c in a)b++;return b};
p.object.wf=function(a){for(var b in a)return b};p.object.xf=function(a){for(var b in a)return a[b]};p.object.contains=function(a,b){return p.object.jc(a,b)};p.object.wc=function(a){var b=[],c=0,e;for(e in a)b[c++]=a[e];return b};p.object.Cf=function(a){var b=[],c=0,e;for(e in a)b[c++]=e;return b};p.object.Gf=function(a,b){for(var c=p.Ha(b),e=c?b:arguments,c=c?0:1;c<e.length&&!(a=a[e[c]],!p.ra(a));c++);return a};p.object.nf=function(a,b){return b in a};
p.object.jc=function(a,b){for(var c in a)if(a[c]==b)return j;return m};p.object.sc=function(a,b,c){for(var e in a)if(b.call(c,a[e],e,a))return e};p.object.uf=function(a,b,c){return(b=p.object.sc(a,b,c))&&a[b]};p.object.Ia=function(a){for(var b in a)return m;return j};p.object.clear=function(a){for(var b in a)delete a[b]};p.object.remove=function(a,b){var c;(c=b in a)&&delete a[b];return c};
p.object.add=function(a,b,c){b in a&&d(Error('The object already contains the key "'+b+'"'));p.object.set(a,b,c)};p.object.get=function(a,b,c){return b in a?a[b]:c};p.object.set=function(a,b,c){a[b]=c};p.object.og=function(a,b,c){return b in a?a[b]:a[b]=c};p.object.W=function(a){var b={},c;for(c in a)b[c]=a[c];return b};p.object.hd=function(a){var b=p.Q(a);if("object"==b||"array"==b){if(a.W)return a.W();var b="array"==b?[]:{},c;for(c in a)b[c]=p.object.hd(a[c]);return b}return a};
p.object.Ag=function(a){var b={},c;for(c in a)b[a[c]]=c;return b};p.object.kb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");p.object.extend=function(a,b){for(var c,e,f=1;f<arguments.length;f++){e=arguments[f];for(c in e)a[c]=e[c];for(var g=0;g<p.object.kb.length;g++)c=p.object.kb[g],Object.prototype.hasOwnProperty.call(e,c)&&(a[c]=e[c])}};
p.object.create=function(a){var b=arguments.length;if(1==b&&p.isArray(arguments[0]))return p.object.create.apply(l,arguments[0]);b%2&&d(Error("Uneven number of arguments"));for(var c={},e=0;e<b;e+=2)c[arguments[e]]=arguments[e+1];return c};p.object.kc=function(a){var b=arguments.length;if(1==b&&p.isArray(arguments[0]))return p.object.kc.apply(l,arguments[0]);for(var c={},e=0;e<b;e++)c[arguments[e]]=j;return c};p.d={};p.ba=j;p.d.eg=function(a){return a[a.length-1]};p.d.t=Array.prototype;p.d.indexOf=p.ba&&p.d.t.indexOf?function(a,b,c){return p.d.t.indexOf.call(a,b,c)}:function(a,b,c){c=c==l?0:0>c?Math.max(0,a.length+c):c;if(p.v(a))return!p.v(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};
p.d.lastIndexOf=p.ba&&p.d.t.lastIndexOf?function(a,b,c){return p.d.t.lastIndexOf.call(a,b,c==l?a.length-1:c)}:function(a,b,c){c=c==l?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(p.v(a))return!p.v(b)||1!=b.length?-1:a.lastIndexOf(b,c);for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1};p.d.forEach=p.ba&&p.d.t.forEach?function(a,b,c){p.d.t.forEach.call(a,b,c)}:function(a,b,c){for(var e=a.length,f=p.v(a)?a.split(""):a,g=0;g<e;g++)g in f&&b.call(c,f[g],g,a)};
p.d.uc=function(a,b){for(var c=p.v(a)?a.split(""):a,e=a.length-1;0<=e;--e)e in c&&b.call(i,c[e],e,a)};p.d.filter=p.ba&&p.d.t.filter?function(a,b,c){return p.d.t.filter.call(a,b,c)}:function(a,b,c){for(var e=a.length,f=[],g=0,h=p.v(a)?a.split(""):a,k=0;k<e;k++)if(k in h){var u=h[k];b.call(c,u,k,a)&&(f[g++]=u)}return f};
p.d.map=p.ba&&p.d.t.map?function(a,b,c){return p.d.t.map.call(a,b,c)}:function(a,b,c){for(var e=a.length,f=Array(e),g=p.v(a)?a.split(""):a,h=0;h<e;h++)h in g&&(f[h]=b.call(c,g[h],h,a));return f};p.d.reduce=function(a,b,c,e){if(a.reduce)return e?a.reduce(p.bind(b,e),c):a.reduce(b,c);var f=c;p.d.forEach(a,function(c,h){f=b.call(e,f,c,h,a)});return f};
p.d.reduceRight=function(a,b,c,e){if(a.reduceRight)return e?a.reduceRight(p.bind(b,e),c):a.reduceRight(b,c);var f=c;p.d.uc(a,function(c,h){f=b.call(e,f,c,h,a)});return f};p.d.some=p.ba&&p.d.t.some?function(a,b,c){return p.d.t.some.call(a,b,c)}:function(a,b,c){for(var e=a.length,f=p.v(a)?a.split(""):a,g=0;g<e;g++)if(g in f&&b.call(c,f[g],g,a))return j;return m};
p.d.every=p.ba&&p.d.t.every?function(a,b,c){return p.d.t.every.call(a,b,c)}:function(a,b,c){for(var e=a.length,f=p.v(a)?a.split(""):a,g=0;g<e;g++)if(g in f&&!b.call(c,f[g],g,a))return m;return j};p.d.find=function(a,b,c){b=p.d.xb(a,b,c);return 0>b?l:p.v(a)?a.charAt(b):a[b]};p.d.xb=function(a,b,c){for(var e=a.length,f=p.v(a)?a.split(""):a,g=0;g<e;g++)if(g in f&&b.call(c,f[g],g,a))return g;return-1};p.d.tf=function(a,b,c){b=p.d.rc(a,b,c);return 0>b?l:p.v(a)?a.charAt(b):a[b]};
p.d.rc=function(a,b,c){for(var e=p.v(a)?a.split(""):a,f=a.length-1;0<=f;f--)if(f in e&&b.call(c,e[f],f,a))return f;return-1};p.d.contains=function(a,b){return 0<=p.d.indexOf(a,b)};p.d.Ia=function(a){return 0==a.length};p.d.clear=function(a){if(!p.isArray(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0};p.d.Db=function(a,b){p.d.contains(a,b)||a.push(b)};p.d.Eb=function(a,b,c){p.d.splice(a,c,0,b)};p.d.Lf=function(a,b,c){p.Nc(p.d.splice,a,c,0).apply(l,b)};
p.d.insertBefore=function(a,b,c){var e;2==arguments.length||0>(e=p.d.indexOf(a,c))?a.push(b):p.d.Eb(a,b,e)};p.d.remove=function(a,b){var c=p.d.indexOf(a,b),e;(e=0<=c)&&p.d.Ma(a,c);return e};p.d.Ma=function(a,b){return 1==p.d.t.splice.call(a,b,1).length};p.d.kg=function(a,b,c){b=p.d.xb(a,b,c);return 0<=b?(p.d.Ma(a,b),j):m};p.d.concat=function(a){return p.d.t.concat.apply(p.d.t,arguments)};p.d.bd=function(a){var b=a.length;if(0<b){for(var c=Array(b),e=0;e<b;e++)c[e]=a[e];return c}return[]};p.d.W=p.d.bd;
p.d.extend=function(a,b){for(var c=1;c<arguments.length;c++){var e=arguments[c],f;if(p.isArray(e)||(f=p.Ha(e))&&e.hasOwnProperty("callee"))a.push.apply(a,e);else if(f)for(var g=a.length,h=e.length,k=0;k<h;k++)a[g+k]=e[k];else a.push(e)}};p.d.splice=function(a,b,c,e){return p.d.t.splice.apply(a,p.d.slice(arguments,1))};p.d.slice=function(a,b,c){return 2>=arguments.length?p.d.t.slice.call(a,b):p.d.t.slice.call(a,b,c)};
p.d.ig=function(a,b){for(var c=b||a,e={},f=0,g=0;g<a.length;){var h=a[g++],k=p.Ja(h)?"o"+p.zb(h):(typeof h).charAt(0)+h;Object.prototype.hasOwnProperty.call(e,k)||(e[k]=j,c[f++]=h)}c.length=f};p.d.nb=function(a,b,c){return p.d.ob(a,c||p.d.da,m,b)};p.d.cf=function(a,b,c){return p.d.ob(a,b,j,i,c)};p.d.ob=function(a,b,c,e,f){for(var g=0,h=a.length,k;g<h;){var u=g+h>>1,r;r=c?b.call(f,a[u],u,a):b(e,a[u]);0<r?g=u+1:(h=u,k=!r)}return k?g:~g};p.d.sort=function(a,b){p.d.t.sort.call(a,b||p.d.da)};
p.d.sg=function(a,b){for(var c=0;c<a.length;c++)a[c]={index:c,value:a[c]};var e=b||p.d.da;p.d.sort(a,function(a,b){return e(a.value,b.value)||a.index-b.index});for(c=0;c<a.length;c++)a[c]=a[c].value};p.d.rg=function(a,b,c){var e=c||p.d.da;p.d.sort(a,function(a,c){return e(a[b],c[b])})};p.d.Tf=function(a,b,c){for(var b=b||p.d.da,e=1;e<a.length;e++){var f=b(a[e-1],a[e]);if(0<f||0==f&&c)return m}return j};
p.d.z=function(a,b,c){if(!p.Ha(a)||!p.Ha(b)||a.length!=b.length)return m;for(var e=a.length,c=c||p.d.mc,f=0;f<e;f++)if(!c(a[f],b[f]))return m;return j};p.d.ha=function(a,b,c){return p.d.z(a,b,c)};p.d.lf=function(a,b,c){for(var c=c||p.d.da,e=Math.min(a.length,b.length),f=0;f<e;f++){var g=c(a[f],b[f]);if(0!=g)return g}return p.d.da(a.length,b.length)};p.d.da=function(a,b){return a>b?1:a<b?-1:0};p.d.mc=function(a,b){return a===b};
p.d.af=function(a,b,c){c=p.d.nb(a,b,c);return 0>c?(p.d.Eb(a,b,-(c+1)),j):m};p.d.bf=function(a,b,c){b=p.d.nb(a,b,c);return 0<=b?p.d.Ma(a,b):m};p.d.df=function(a,b){for(var c={},e=0;e<a.length;e++){var f=a[e],g=b(f,e,a);p.ra(g)&&(c[g]||(c[g]=[])).push(f)}return c};p.d.repeat=function(a,b){for(var c=[],e=0;e<b;e++)c[e]=a;return c};p.d.tc=function(a){for(var b=[],c=0;c<arguments.length;c++){var e=arguments[c];p.isArray(e)?b.push.apply(b,p.d.tc.apply(l,e)):b.push(e)}return b};
p.d.rotate=function(a,b){a.length&&(b%=a.length,0<b?p.d.t.unshift.apply(a,a.splice(-b,b)):0>b&&p.d.t.push.apply(a,a.splice(0,-b)));return a};p.d.Wb=function(a){if(!arguments.length)return[];for(var b=[],c=0;;c++){for(var e=[],f=0;f<arguments.length;f++){var g=arguments[f];if(c>=g.length)return b;e.push(g[c])}b.push(e)}};p.d.qg=function(a,b){for(var c=b||Math.random,e=a.length-1;0<e;e--){var f=Math.floor(c()*(e+1)),g=a[e];a[e]=a[f];a[f]=g}};function za(a,b,c){this.Fc=a;this.L=b.name||l;this.vf=b.k||l;this.rb=b.u;this.Y={};for(a=0;a<c.length;a++)b=c[a],this.Y[b.G]=b}za.prototype.Z=function(){return!this.rb?l:this.rb.ja()};function Aa(a){a=p.object.wc(a.Y);p.d.sort(a,function(a,c){return a.G-c.G});return a};function F(){this.H={};this.A=this.constructor.A;this.Y=this.A.Y;this.C=this.Jb=l}n=F.prototype;n.ja=function(){return this.A};function Ba(a,b){p.h.i.assert(b.Z()==a.A,"The current message does not contain the given field");return Ca(a,b.G)}n.sb=function(a){p.h.i.assert(a.Z()==this.A,"The current message does not contain the given field");a=a.G;ya(Da(this,a))?(Ca(this,a)&&p.h.i.assert(p.isArray(this.H[a])),a=Ca(this,a)?this.H[a].length:0):a=Ca(this,a)?1:0;return a};
n.get=function(a,b){p.h.i.assert(a.Z()==this.A,"The current message does not contain the given field");return G(this,a.G,b)};n.set=function(a,b){p.h.i.assert(a.Z()==this.A,"The current message does not contain the given field");E(this,a.G,b)};n.add=function(a,b){p.h.i.assert(a.Z()==this.A,"The current message does not contain the given field");H(this,a.G,b)};
n.clear=function(a){p.h.i.assert(a.Z()==this.A,"The current message does not contain the given field");a=a.G;p.h.i.assert(Da(this,a),"Unknown field");delete this.H[a];this.C&&delete this.C[a]};
n.z=function(a){if(!a||this.constructor!=a.constructor)return m;for(var b=Aa(this.ja()),c=0;c<b.length;c++){var e=b[c];if(Ba(this,e)!=Ba(a,e))return m;if(Ba(this,e)){var f=xa(e),g=Ea(this,e),h=Ea(a,e);if(e.$){if(g.length!=h.length)return m;for(e=0;e<g.length;e++)if(!(f?g[e].z(h[e]):g[e]==h[e]))return m}else if(!(f?g.z(h):g==h))return m}}return j};
function Fa(a,b){p.h.i.assert(a.constructor==b.constructor,"The source message must have the same type.");for(var c=Aa(a.ja()),e=0;e<c.length;e++){var f=c[e];if(Ba(b,f)){a.C&&delete a.C[f.G];var g=xa(f);if(f.$){var h;h=b;var k=f;p.h.i.assert(k.Z()==h.A,"The current message does not contain the given field");h=Ga(h,k.G);for(k=0;k<h.length;k++)a.add(f,g?h[k].W():h[k])}else h=Ea(b,f),g?(g=Ea(a,f))?Fa(g,h):a.set(f,h.W()):a.set(f,h)}}}
n.W=function(){var a=new this.constructor;p.h.i.assert(a.constructor==this.constructor,"The source message must have the same type.");a.H={};a.C&&(a.C={});Fa(a,this);return a};function Da(a,b){p.h.i.assert(a.Y[b],"No field found for the given tag");return a.Y[b]}function Ca(a,b){p.h.i.assert(a.Y[b],"No field found for the given tag");return b in a.H&&p.ra(a.H[b])&&a.H[b]!==l}
function Ea(a,b){var c=b.G;if(!c in a.H)return l;var e=a.H[c];return e==l?l:a.Jb?!(c in a.C)?(e=a.Jb.pf(a,b,e),a.C[c]=e):a.C[c]:e}function G(a,b,c){b=Da(a,b);a=Ea(a,b);if(b.$)return p.h.i.assert(p.isArray(a)),c=c||0,p.h.i.assert(0<=c&&c<a.length,"Given index is out of bounds"),a[c];p.h.i.assert(!p.isArray(a));return a}function Ha(a,b){var c;if(Ca(a,b))c=G(a,b,i);else{c=Da(a,b);if(c.Za===i){var e=c.eb;c.Za=e===Boolean?m:e===Number?0:e===String?"":new e}c=c.Za}return c}
function Ga(a,b){p.h.i.assert(ya(Da(a,b)),"Cannot call fieldArray on a non-repeated field");var c=Da(a,b),c=Ea(a,c);p.h.i.assert(c==l||p.isArray(c));return c||[]}function E(a,b,c){if(p.h.i.qb()){var e=Da(a,b);p.h.i.assert(!e.$,"Cannot call set on a repeated field");Ja(e,c)}a.H[b]=c;a.C&&(a.C[b]=c)}function H(a,b,c){if(p.h.i.qb()){var e=Da(a,b);p.h.i.assert(e.$,"Cannot call add on a non-repeated field");Ja(e,c)}a.H[b]||(a.H[b]=[]);a.H[b].push(c);a.C&&delete a.C[b]}
function Ja(a,b){p.h.i.assert(b!==l);var c=a.eb;c===String?p.h.i.assert("string"===typeof b,"Expected value of type string"):c===Boolean?p.h.i.assert("boolean"===typeof b,"Expected value of type boolean"):c===Number?p.h.i.assert("number"===typeof b,"Expected value of type number"):14==a.K?p.h.i.assert("number"===typeof b,"Expected an enum value, which is a number"):p.h.i.assert(b instanceof c,"Expected a matching message type")}
function I(a,b){var c=[],e,f;for(f in b)b.hasOwnProperty(f)&&(p.h.i.assert(p.c.ab(f),"Keys must be numeric"),0==f?e=b[0]:c.push(new ra(a,f,b[f])));p.h.i.assert(e);a.A=new za(a,e,c);a.ja=function(){return a.A}};function J(){F.apply(this)}p.e(J,F);J.prototype.ua=function(a){E(this,1,a)};function Ka(){F.apply(this)}p.e(Ka,F);Ka.prototype.na=function(a){E(this,1,a)};Ka.prototype.Oa=function(a){E(this,2,a)};function K(){F.apply(this)}p.e(K,F);K.prototype.g=function(a){E(this,1,a)};K.prototype.na=function(a){E(this,2,a)};function La(a){return Ha(a,15)}function Ma(){F.apply(this)}p.e(Ma,F);function Na(){F.apply(this)}p.e(Na,F);function Oa(){F.apply(this)}p.e(Oa,F);function Pa(){F.apply(this)}p.e(Pa,F);
Pa.prototype.O=function(){return Ha(this,1)};Pa.prototype.F=function(a){E(this,1,a)};Pa.prototype.V=function(a){E(this,2,a)};Pa.prototype.fa=function(a){E(this,3,a)};function Qa(){F.apply(this)}p.e(Qa,F);Qa.prototype.O=function(){return Ha(this,1)};Qa.prototype.F=function(a){E(this,1,a)};function L(){F.apply(this)}p.e(L,F);L.prototype.g=function(a){E(this,1,a)};L.prototype.Fa=function(){return G(this,2)};L.prototype.Na=function(a){E(this,2,a)};
var Ra=4,Sa=19,Ta={me:1,Ld:2,Rd:3,Pd:Ra,Sd:5,se:6,Td:7,ge:8,qd:9,Ae:11,md:14,Ee:15,je:16,Cd:17,ie:18,vd:Sa,Id:20,fe:21,wd:22,re:23,Bd:24,$d:26,Ke:27,oe:28,Ce:29,rd:30,ye:31,Nd:32,od:35,nd:36,we:37,Vd:38,Ne:39};function Ua(){F.apply(this)}p.e(Ua,F);function Va(){F.apply(this)}p.e(Va,F);Va.prototype.P=function(a){E(this,1,a)};function Wa(){F.apply(this)}p.e(Wa,F);Wa.prototype.P=function(a){E(this,1,a)};function Xa(){F.apply(this)}p.e(Xa,F);Xa.prototype.Fa=function(){return G(this,1)};
Xa.prototype.Na=function(a){E(this,1,a)};function Ya(){F.apply(this)}p.e(Ya,F);function Za(){F.apply(this)}p.e(Za,F);Za.prototype.V=function(a){E(this,1,a)};function $a(){F.apply(this)}p.e($a,F);$a.prototype.D=function(a){E(this,4,a)};function N(){F.apply(this)}p.e(N,F);N.prototype.S=function(a){E(this,1,a)};N.prototype.D=function(a){E(this,2,a)};function ab(){F.apply(this)}p.e(ab,F);ab.prototype.S=function(a){E(this,1,a)};ab.prototype.D=function(a){E(this,2,a)};function na(){F.apply(this)}
p.e(na,F);na.prototype.Oa=function(a){E(this,1,a)};function O(){F.apply(this)}p.e(O,F);O.prototype.g=function(a){E(this,1,a)};function bb(){F.apply(this)}p.e(bb,F);bb.prototype.va=function(a){E(this,1,a)};bb.prototype.P=function(a){E(this,2,a)};function cb(){F.apply(this)}p.e(cb,F);cb.prototype.va=function(a){E(this,1,a)};function db(){F.apply(this)}p.e(db,F);db.prototype.va=function(a){E(this,1,a)};db.prototype.P=function(a){E(this,2,a)};function eb(){F.apply(this)}p.e(eb,F);
eb.prototype.O=function(){return Ha(this,1)};eb.prototype.F=function(a){E(this,1,a)};function fb(){F.apply(this)}p.e(fb,F);fb.prototype.na=function(a){E(this,2,a)};function gb(){F.apply(this)}p.e(gb,F);n=gb.prototype;n.O=function(){return Ha(this,1)};n.F=function(a){E(this,1,a)};n.V=function(a){E(this,2,a)};n.fa=function(a){E(this,3,a)};n.P=function(a){E(this,4,a)};function hb(){F.apply(this)}p.e(hb,F);hb.prototype.O=function(){return Ha(this,1)};hb.prototype.F=function(a){E(this,1,a)};
hb.prototype.V=function(a){E(this,2,a)};hb.prototype.fa=function(a){E(this,3,a)};function ib(){F.apply(this)}p.e(ib,F);n=ib.prototype;n.O=function(){return Ha(this,1)};n.F=function(a){E(this,1,a)};n.V=function(a){E(this,2,a)};n.fa=function(a){E(this,3,a)};n.P=function(a){E(this,4,a)};function jb(){F.apply(this)}p.e(jb,F);jb.prototype.g=function(a){E(this,1,a)};jb.prototype.ua=function(a){E(this,2,a)};function kb(){F.apply(this)}p.e(kb,F);kb.prototype.O=function(){return Ha(this,3)};
kb.prototype.F=function(a){E(this,3,a)};function D(){F.apply(this)}p.e(D,F);D.prototype.g=function(a){E(this,1,a)};D.prototype.ea=function(){return G(this,2)};D.prototype.hb=function(a){E(this,2,a)};var oa=1,lb={xe:oa,Oe:2,xd:3,Be:4,he:5};function mb(){F.apply(this)}p.e(mb,F);mb.prototype.ea=function(){return G(this,2)};mb.prototype.hb=function(a){E(this,2,a)};function nb(){F.apply(this)}p.e(nb,F);
I(J,{"0":{name:"TableRef",k:"TableRef"},1:{name:"db_name",b:9,type:String},2:{name:"table_name",b:9,type:String},3:{name:"use_outdated",b:8,defaultValue:0,type:Boolean}});I(Ka,{"0":{name:"VarTermTuple",k:"VarTermTuple"},1:{name:"var",b:9,type:String},2:{name:"term",b:11,type:K}});
I(K,{"0":{name:"Term",k:"Term"},1:{name:"type",b:14,defaultValue:0,type:{Yd:0,Me:1,ae:2,ud:3,Qd:4,Hd:5,pe:6,De:7,JSON:8,BOOL:9,pd:10,qe:11,Md:12,Je:13,Xd:14,Ud:15}},2:{name:"var",b:9,type:String},3:{name:"let",b:11,type:Ma},4:{name:"call",b:11,type:Na},5:{name:"if_",b:11,type:Oa},6:{name:"error",b:9,type:String},7:{name:"number",b:1,type:Number},8:{name:"valuestring",b:9,type:String},9:{name:"jsonstring",b:9,type:String},10:{name:"valuebool",b:8,type:Boolean},11:{name:"array",R:j,b:11,type:K},12:{name:"object",
R:j,b:11,type:Ka},14:{name:"get_by_key",b:11,type:Pa},15:{name:"table",b:11,type:Qa},16:{name:"javascript",b:9,type:String}});I(Ma,{"0":{name:"Let",u:K,k:"Term.Let"},1:{name:"binds",R:j,b:11,type:Ka},2:{name:"expr",b:11,type:K}});I(Na,{"0":{name:"Call",u:K,k:"Term.Call"},1:{name:"builtin",b:11,type:L},2:{name:"args",R:j,b:11,type:K}});I(Oa,{"0":{name:"If",u:K,k:"Term.If"},1:{name:"test",b:11,type:K},2:{name:"true_branch",b:11,type:K},3:{name:"false_branch",b:11,type:K}});
I(Pa,{"0":{name:"GetByKey",u:K,k:"Term.GetByKey"},1:{name:"table_ref",b:11,type:J},2:{name:"attrname",b:9,type:String},3:{name:"key",b:11,type:K}});I(Qa,{"0":{name:"Table",u:K,k:"Term.Table"},1:{name:"table_ref",b:11,type:J}});
I(L,{"0":{name:"Builtin",k:"Builtin"},1:{name:"type",b:14,defaultValue:1,type:Ta},2:{name:"attr",b:9,type:String},3:{name:"attrs",R:j,b:9,type:String},4:{name:"comparison",b:14,defaultValue:1,type:{Gd:1,le:2,ee:3,Zd:4,Od:5,Kd:6}},5:{name:"filter",b:11,type:Ua},6:{name:"map",b:11,type:Va},7:{name:"concat_map",b:11,type:Wa},8:{name:"order_by",R:j,b:11,type:Xa},9:{name:"reduce",b:11,type:$a},10:{name:"grouped_map_reduce",b:11,type:Ya},11:{name:"range",b:11,type:Za}});
I(Ua,{"0":{name:"Filter",u:L,k:"Builtin.Filter"},1:{name:"predicate",b:11,type:ab}});I(Va,{"0":{name:"Map",u:L,k:"Builtin.Map"},1:{name:"mapping",b:11,type:N}});I(Wa,{"0":{name:"ConcatMap",u:L,k:"Builtin.ConcatMap"},1:{name:"mapping",b:11,type:N}});I(Xa,{"0":{name:"OrderBy",u:L,k:"Builtin.OrderBy"},1:{name:"attr",b:9,type:String},2:{name:"ascending",b:8,defaultValue:1,type:Boolean}});
I(Ya,{"0":{name:"GroupedMapReduce",u:L,k:"Builtin.GroupedMapReduce"},1:{name:"group_mapping",b:11,type:N},2:{name:"value_mapping",b:11,type:N},3:{name:"reduction",b:11,type:$a}});I(Za,{"0":{name:"Range",u:L,k:"Builtin.Range"},1:{name:"attrname",b:9,type:String},2:{name:"lowerbound",b:11,type:K},3:{name:"upperbound",b:11,type:K}});I($a,{"0":{name:"Reduction",k:"Reduction"},1:{name:"base",b:11,type:K},2:{name:"var1",b:9,type:String},3:{name:"var2",b:9,type:String},4:{name:"body",b:11,type:K}});
I(N,{"0":{name:"Mapping",k:"Mapping"},1:{name:"arg",b:9,type:String},2:{name:"body",b:11,type:K}});I(ab,{"0":{name:"Predicate",k:"Predicate"},1:{name:"arg",b:9,type:String},2:{name:"body",b:11,type:K}});I(na,{"0":{name:"ReadQuery",k:"ReadQuery"},1:{name:"term",b:11,type:K},2:{name:"max_chunk_size",b:3,type:String},3:{name:"max_age",b:3,type:String}});
I(O,{"0":{name:"WriteQuery",k:"WriteQuery"},1:{name:"type",b:14,defaultValue:1,type:{Le:1,Ad:2,ke:3,Wd:4,Jd:6,ve:7,te:8,ue:9}},11:{name:"atomic",b:8,defaultValue:1,type:Boolean},2:{name:"update",b:11,type:bb},3:{name:"delete",b:11,type:cb},4:{name:"mutate",b:11,type:db},5:{name:"insert",b:11,type:eb},7:{name:"for_each",b:11,type:fb},8:{name:"point_update",b:11,type:gb},9:{name:"point_delete",b:11,type:hb},10:{name:"point_mutate",b:11,type:ib}});
I(bb,{"0":{name:"Update",u:O,k:"WriteQuery.Update"},1:{name:"view",b:11,type:K},2:{name:"mapping",b:11,type:N}});I(cb,{"0":{name:"Delete",u:O,k:"WriteQuery.Delete"},1:{name:"view",b:11,type:K}});I(db,{"0":{name:"Mutate",u:O,k:"WriteQuery.Mutate"},1:{name:"view",b:11,type:K},2:{name:"mapping",b:11,type:N}});I(eb,{"0":{name:"Insert",u:O,k:"WriteQuery.Insert"},1:{name:"table_ref",b:11,type:J},2:{name:"terms",R:j,b:11,type:K},3:{name:"overwrite",b:8,defaultValue:0,type:Boolean}});
I(fb,{"0":{name:"ForEach",u:O,k:"WriteQuery.ForEach"},1:{name:"stream",b:11,type:K},2:{name:"var",b:9,type:String},3:{name:"queries",R:j,b:11,type:O}});I(gb,{"0":{name:"PointUpdate",u:O,k:"WriteQuery.PointUpdate"},1:{name:"table_ref",b:11,type:J},2:{name:"attrname",b:9,type:String},3:{name:"key",b:11,type:K},4:{name:"mapping",b:11,type:N}});I(hb,{"0":{name:"PointDelete",u:O,k:"WriteQuery.PointDelete"},1:{name:"table_ref",b:11,type:J},2:{name:"attrname",b:9,type:String},3:{name:"key",b:11,type:K}});
I(ib,{"0":{name:"PointMutate",u:O,k:"WriteQuery.PointMutate"},1:{name:"table_ref",b:11,type:J},2:{name:"attrname",b:9,type:String},3:{name:"key",b:11,type:K},4:{name:"mapping",b:11,type:N}});I(jb,{"0":{name:"MetaQuery",k:"MetaQuery"},1:{name:"type",b:14,defaultValue:1,type:{yd:1,Dd:2,be:3,zd:4,Ed:5,ce:6}},2:{name:"db_name",b:9,type:String},3:{name:"create_table",b:11,type:kb},4:{name:"drop_table",b:11,type:J}});
I(kb,{"0":{name:"CreateTable",u:jb,k:"MetaQuery.CreateTable"},1:{name:"datacenter",b:9,type:String},3:{name:"table_ref",b:11,type:J},4:{name:"primary_key",b:9,defaultValue:"id",type:String},5:{name:"cache_size",b:3,defaultValue:"1073741824",type:String}});I(D,{"0":{name:"Query",k:"Query"},1:{name:"type",b:14,defaultValue:oa,type:lb},2:{name:"token",b:3,type:String},3:{name:"read_query",b:11,type:na},4:{name:"write_query",b:11,type:O},5:{name:"meta_query",b:11,type:jb}});
I(mb,{"0":{name:"Response",k:"Response"},1:{name:"status_code",b:14,defaultValue:0,type:{Fe:0,Ge:1,He:2,Ie:3,td:101,sd:102,ze:103}},2:{name:"token",b:3,type:String},3:{name:"response",R:j,b:9,type:String},4:{name:"error_message",b:9,type:String},5:{name:"backtrace",b:11,type:nb}});I(nb,{"0":{name:"Backtrace",u:mb,k:"Response.Backtrace"},1:{name:"frame",R:j,b:9,type:String}});function z(){}p.e(z,ma);function ob(a){this.Gc=a||""}p.e(ob,z);ob.prototype.compile=function(){var a=new K;a.g(5);E(a,6,this.Gc);return a};ob.prototype.a=function(a){return a?"^^^^^^^^^":"r.error()"};p.q("rethinkdb.error",function(){return new ob});function ja(a){this.o=a}p.e(ja,z);ja.prototype.compile=function(){var a=new K;a.g(8);var b=JSON.stringify(this.o);E(a,9,b);return a};function ea(a){this.o="undefined"===typeof a?l:a}p.e(ea,z);
ea.prototype.compile=function(){var a=new K;this.o===l?a.g(0):(a.g(6),E(a,7,this.o));return a};ea.prototype.a=function(a){var b="r.expr("+this.o+")";return a?P(b):b};function fa(a){this.o=a}p.e(fa,z);fa.prototype.compile=function(){var a=new K;a.g(9);E(a,10,this.o);return a};fa.prototype.a=function(a){var b="r.expr("+this.o+")";return a?P(b):b};function ga(a){this.o=a}p.e(ga,z);ga.prototype.compile=function(){var a=new K;a.g(7);E(a,8,this.o);return a};
ga.prototype.a=function(a){var b="r.expr('"+this.o+"')";return a?P(b):b};function ha(a){this.o=[];for(var b=0;b<a.length;b++){var c=s(a[b]);this.o.push(c)}}p.e(ha,z);ha.prototype.compile=function(a){var b=new K;b.g(10);for(var c=0;c<this.o.length;c++){var e=this.o[c].compile(a);H(b,11,e)}return b};
ha.prototype.a=function(a){var b=this.o.map(function(a){return a.a()});if(a){if(0===a.length)return P("r.expr(["+b.join(", ")+"])");var c=a[0].split(":");a.shift();c=parseInt(c[1],10);b=b.map(Q);b[c]=this.o[c].a(a);return"        "+b.join("  ")+"  "}return"r.expr(["+b.join(", ")+"])"};function ia(a){this.o={};for(var b in a)if(a.hasOwnProperty(b)){var c=s(a[b]);this.o[b]=c}}p.e(ia,z);
ia.prototype.compile=function(a){var b=new K;b.g(11);for(var c in this.o)if(this.o.hasOwnProperty(c)){var e=new Ka;e.na(c);e.Oa(this.o[c].compile(a));H(b,12,e)}return b};
ia.prototype.a=function(a){var b=[],c;for(c in this.o)this.o.hasOwnProperty(c)&&b.push("'"+c+"':"+this.o[c].a());b="r.expr({"+b.join(", ")+"})";if(a){if(0===a.length)return P(b);b=a[0].split(":");a.shift();var e=b[1],b=[];for(c in this.o)this.o.hasOwnProperty(c)&&(c===e?b.push(Q("'"+c+"':")+this.o[c].a(a)):b.push(Q("'"+c+"':"+this.o[c].a())));return"        "+b.join("  ")+"  "}return b};function ka(a){this.Ob=a}p.e(ka,z);ka.prototype.compile=function(){var a=new K;a.g(14);E(a,16,this.Ob);return a};
ka.prototype.a=function(a){var b="r.js('"+this.Ob+"')";return a?P(b):b};function ca(a,b){1>a.length&&a.push("");this.w=a;this.body=b}ca.prototype.a=function(a){return a?Q("function("+this.w.join(", ")+") {return ")+this.body.a(a)+" ":"function("+this.w.join(", ")+") {return "+this.body.a()+"}"};var pb=0;
function da(a){var b,c;if("function"===typeof a&&!(a instanceof t)){b=[];for(c=0;c<a.length;c++)b.push("arg"+b.length+"_"+pb++);c=a.apply(l,b.map(function(a){return qb(a)}));c instanceof t||(c=q(c))}else c=arguments[arguments.length-1],b=Array.prototype.slice.call(arguments,0,arguments.length-1);c=s(c);b.forEach(function(a){return w(a,"string")});return y(ca,b,c)}p.q("rethinkdb.fn",da);function R(a,b,c,e){this.hc=a;this.mb=b;this.lb=e||l;this.a=c}p.e(R,z);
R.prototype.compile=function(a){var b=new L;b.g(this.hc);this.lb&&this.lb(b);var c=new Na;E(c,1,b);for(var e in this.mb)b=this.mb[e].compile(a),H(c,2,b);a=new K;a.g(3);E(a,4,c);return a};function rb(a,b){z.prototype[b]=function(c){x(arguments,1);c=s(c);return y(R,a,[this,c],sb(b,this,c))}}function tb(a,b){z.prototype[b]=function(c){x(arguments,1);c=s(c);return y(R,Sa,[this,c],sb(b,this,c),function(b){E(b,4,a)})}}rb(14,"add");rb(15,"sub");rb(16,"mul");rb(17,"div");rb(18,"mod");tb(1,"eq");tb(2,"ne");
tb(3,"lt");tb(4,"le");tb(5,"gt");tb(6,"ge");z.prototype.fb=function(){return y(R,1,[this],sb("not",this))};p.f(z.prototype,"not",z.prototype.fb);z.prototype.count=function(){return y(R,26,[this],sb("count",this))};p.f(z.prototype,"count",z.prototype.count);z.prototype.Ta=function(a){x(arguments,1);a=s(a);return y(R,36,[this,a],sb("and",this,a))};p.f(z.prototype,"and",z.prototype.Ta);z.prototype.Lb=function(a){x(arguments,1);a=s(a);return y(R,35,[this,a],sb("or",this,a))};p.f(z.prototype,"or",z.prototype.Lb);
z.prototype.ec=function(a,b,c){x(arguments,2);a=s(a);b=s(b);w(c,"string");var e=c?c:"id";return y(R,37,[this],sb("between",this,a,b,"'"+e+"'"),function(c,g){var h=new Za;h.V(e);var k=a.compile(g);E(h,2,k);k=b.compile(g);E(h,3,k);E(c,11,h)})};p.f(z.prototype,"between",z.prototype.ec);z.prototype.append=function(a){x(arguments,1);a=s(a);return y(R,9,[this,a],sb("append",this,a))};p.f(z.prototype,"append",z.prototype.append);
function ub(a,b,c){b=s(b);c=c?s(c):new ja(l);R.call(this,11,[a,b,c],function(e){if(e){var f=e[0].split(":");f[1]=parseInt(f[1],10);e.shift();return 0===f[1]?a.a(e)+Q(".slice("+b.a()+(c?", "+c.a():"")+")"):1===f[1]?Q(a.a()+".slice(")+b.a(e)+Q((c?", "+c.a():"")+")"):Q(a.a()+".slice("+b.a(e)+", ")+c.a(e)+" "}return a.a()+".slice("+b.a()+(c?", "+c.a():"")+")"})}p.e(ub,R);z.prototype.slice=function(a,b){x(arguments,1);return y(ub,this,a,b)};p.f(z.prototype,"slice",z.prototype.slice);
z.prototype.Cc=function(a){x(arguments,1);return y(ub,this,0,a)};p.f(z.prototype,"limit",z.prototype.Cc);z.prototype.Vc=function(a){x(arguments,1);return y(ub,this,a)};p.f(z.prototype,"skip",z.prototype.Vc);z.prototype.Jc=function(a){x(arguments,1);a=s(a);return y(R,28,[this,a],sb("nth",this,a))};p.f(z.prototype,"nth",z.prototype.Jc);
z.prototype.filter=function(a){var b;if("object"===typeof a&&!(a instanceof t)){var c=[],e;for(e in a)a.hasOwnProperty(e)&&c.push(vb(e).eq(q(a[e])));b=y(ca,[""],y(R,36,c,function(a){var b=c.map(function(a){return a.a()});if(a){var e=a[0].split(":");a.shift();b=b.map(Q);b[e[1]]=c[e[1]].a(a);return b.join("      ")}return b.join(").and(")}))}else b=v(a);var f=this;return y(R,20,[this],function(a){if(a){if("predicate"===a[0])return a.shift(),Q(f.a()+".filter(")+b.a(a)+" ";a.shift();return f.a(a)+Q(".filter("+
b.a(a)+")")}return f.a()+".filter("+b.a()+")"},function(a,c){var e=new ab;e.S(b.w[0]);e.D(b.body.compile(c));var f=new Ua;E(f,1,e);E(a,5,f)})};p.f(z.prototype,"filter",z.prototype.filter);
z.prototype.map=function(a){var a=v(a),b=this;return y(R,21,[this],function(c){if(c){if("arg:0"===c[0])return c.shift(),b.a(c)+Q(".map("+a.a(c)+")");c.shift();return Q(b.a()+".map(")+a.a(c)+" "}return b.a()+".map("+a.a()+")"},function(b,e){var f=new N;f.S(a.w[0]);f.D(a.body.compile(e));var g=new Va;g.P(f);E(b,6,g)})};p.f(z.prototype,"map",z.prototype.map);
z.prototype.Kc=function(a){x(arguments,1);var b=Array.prototype.map.call(arguments,function(a){if("string"===typeof a)return[a,j];if(p.isArray(a))return w(a[0],"string"),w(a[1],"boolean"),a;d(new TypeError("Attribute to order by must be a literal string or result of r.desc or r.asc."))}),c=this;return y(R,23,[this],function(a){var f=b.map(function(a){return"['"+a[0]+"', "+a[1]+"]"});return a?"order_by"===a.shift()?Q(c.a()+".orderBy(")+P(f.join(", "))+" ":c.a(a)+Q(".orderBy("+f.join(", ")+")"):c.a()+
".orderBy("+f.join(", ")+")"},function(a){for(var c=0;c<b.length;c++){var g=b[c][1],h=new Xa;h.Na(b[c][0]);E(h,2,g);H(a,8,h)}})};p.f(z.prototype,"orderBy",z.prototype.Kc);p.q("rethinkdb.asc",function(a){return[a,j]});p.q("rethinkdb.desc",function(a){return[a,m]});z.prototype.pc=function(a){w(a,"string");var b=a?this.map(vb(a)):this;return y(R,24,[b],function(a){return a?(a.shift(),b.a(a)+"           "):b.a()+".distinct()"})};p.f(z.prototype,"distinct",z.prototype.pc);
z.prototype.reduce=function(a,b){x(arguments,2);var a=s(a),b=v(b),c=this;return y(R,31,[this],function(e){if(e)if("reduce"===e[0]){e.shift();if("body"===e[0])return e.shift(),Q(c.a()+".reduce("+a.a()+", ")+b.a(e)+" ";if("base"===e[0])return e.shift(),Q(c.a()+".reduce(")+a.a(e)+Q(", "+b.a()+")")}else return e.shift(),c.a(e)+Q(".reduce("+a.a()+", "+b.a()+")");else return c.a()+".reduce("+a.a()+", "+b.a()+")"},function(c,f){var g=new $a,h=a.compile(f);E(g,1,h);E(g,2,b.w[0]);E(g,3,b.w[1]);g.D(b.body.compile(f));
E(c,9,g)})};p.f(z.prototype,"reduce",z.prototype.reduce);
z.prototype.Bb=function(a,b,c,e){x(arguments,4);var a=v(a),b=v(b),c=s(c),e=v(e),f=this;return y(R,32,[this],function(g){var h=f.a(),k=a.a(),u=b.a(),r=c.a(),B=e.a();if(g){var M=g.shift();if("arg:0"===M)return f.a(g)+Q(".groupedMapReduce("+k+", "+u+", "+r+", "+B+")");if("group_mapping"===M)return Q(h+".groupedMapReduce(")+a.a(g)+Q(", "+u+", "+r+", "+B+")");if("value_mapping"===M)return Q(h+".groupedMapReduce("+k+", ")+b.a(g)+Q(", "+r+", "+B+")");M=g.shift();return"base"===M?Q(h+".groupedMapReduce("+
k+", "+u+", ")+c.a(g)+Q(", "+B+")"):Q(h+".groupedMapReduce("+k+", "+u+", "+r+", ")+e.a(g)+" "}return h+".groupedMapReduce("+k+", "+u+", "+r+", "+B+")"},function(f,h){var k=new N;k.S(a.w[0]);k.D(a.body.compile(h));var u=new N;u.S(b.w[0]);u.D(b.body.compile(h));var r=new $a,B=c.compile(h);E(r,1,B);E(r,2,e.w[0]);E(r,3,e.w[1]);r.D(e.body.compile(h));B=new Ya;E(B,1,k);E(B,2,u);E(B,3,r);E(f,10,B)})};p.f(z.prototype,"groupedMapReduce",z.prototype.Bb);
z.prototype.xc=function(a){x(arguments,2);var b=Array.prototype.slice.call(arguments,0,-1);b.forEach(function(a){w(a,"string")});var c=arguments[arguments.length-1];w(c,"object");var e=da(function(a){return 1<b.length?q(b.map(a)):a(b[0])}),f=c.mapping||da(aa()),g=c.base,h=c.reduction;h||d(new C("Must provide a reduction to groupby"));g===i&&d(new C("Must provide a base for the reduction in groupby"));var e=this.Bb(e,f,g,h),k=c.finalizer;k&&(e=e.map(function(a){return a.cb({reduction:k(a("reduction"))})}));
return e};p.f(z.prototype,"groupBy",z.prototype.xc);p.q("rethinkdb.count",{mapping:function(){return q(1)},base:0,reduction:function(a,b){return a.add(b)}});p.q("rethinkdb.sum",function(a){x(arguments,1);w(a,"string");return{mapping:function(b){return b(a)},base:0,reduction:function(a,c){return a.add(c)}}});
p.q("rethinkdb.avg",function(a){x(arguments,1);w(a,"string");return{mapping:function(b){return q([b(a),1])},base:[0,0],reduction:function(a,c){return q([a.nth(0).add(c.nth(0)),a.nth(1).add(c.nth(1))])},finalizer:function(a){return a.nth(0).div(a.nth(1))}}});
z.prototype.contains=function(a){function b(a){return y(R,Ra,[e],function(b){return b?"arg:0"===b.shift()?e.a(b)+Q(".contains("+a+")"):Q(e.a())+P(".contains("+a+")"):e.a()+".contains("+a+")"},function(b){b.Na(a)})}x(arguments,1);var c=Array.prototype.slice.call(arguments,0);c.forEach(function(a){w(a,"string")});for(var e=this,f=b(c[0]),g=1;g<c.length;++g)f=f.Ta(b(c[g]));return f};p.f(z.prototype,"contains",z.prototype.contains);
z.prototype.Fa=function(a){w(a,"string");var b=this;return y(R,2,[this],function(c){return c?"arg:0"===c[0]?(c.shift(),b.a(c)):Q(b.a())+P("('"+a+"')"):b.a()+"('"+a+"')"},function(b){b.Na(a)})};p.f(z.prototype,"getAttr",z.prototype.Fa);
z.prototype.Mb=function(a){var b=Array.prototype.slice.call(arguments,0);b.forEach(function(a){w(a,"string")});var c=this;return y(R,6,[this],function(a){var f=b.map(function(a){return"'"+a+"'"});return a?(a.shift(),c.a(a)+Q(".pick("+f.join(", ")+")")):c.a()+".pick("+f.join(", ")+")"},function(a){for(var c in b)H(a,3,b[c])})};p.f(z.prototype,"pick",z.prototype.Mb);
z.prototype.Tb=function(a){var b=Array.prototype.slice.call(arguments,0);b.forEach(function(a){w(a,"string")});var c=this;return y(R,39,[this],function(a){var f=b.map(function(a){return"'"+a+"'"});return a?(a.shift(),c.a(a)+Q(".unpick("+f.join(", ")+")")):c.a()+".unpick("+f.join(", ")+")"},function(a){for(var c in b)H(a,3,b[c])})};p.f(z.prototype,"unpick",z.prototype.Tb);
z.prototype.Oc=function(){var a=Array.prototype.slice.call(arguments,0);return this.map(function(b){return z.prototype.Mb.apply(b,a)})};p.f(z.prototype,"pluck",z.prototype.Oc);z.prototype.ld=function(){var a=Array.prototype.slice.call(arguments,0);return this.map(function(b){return z.prototype.Tb.apply(b,a)})};p.f(z.prototype,"without",z.prototype.ld);function wb(a){this.Vb=a}p.e(wb,z);wb.prototype.compile=function(){var a=new K;a.g(1);a.na(this.Vb);return a};
wb.prototype.a=function(a){var b="r.letVar('"+this.Vb+"')";return a?P(b):b};function xb(){}p.e(xb,z);xb.prototype.compile=function(){var a=new K;a.g(15);return a};xb.prototype.a=function(a){return a?"^^^^^^^^":"r.row"};var vb=y(xb);p.q("rethinkdb.row",vb);function qb(a){w(a,"string");return y(wb,a)}p.q("rethinkdb.letVar",qb);
z.prototype.cb=function(a){var a=s(a),b=this;return y(R,8,[this,a],function(c){if(c){var e=c.shift();return"arg:0"===e?b.a(c)+Q(".merge("+a.a()+")"):"arg:1"===e?Q(b.a()+".merge(")+a.a(c)+" ":P(b.a()+".merge("+a.a()+")")}return b.a()+".merge("+a.a()+")"})};p.f(z.prototype,"merge",z.prototype.cb);
z.prototype.Sb=function(a){x(arguments,1);var b=Array.prototype.slice.call(arguments,0).map(s),c=this;return y(R,27,[this].concat(b),function(a){var f=b.map(function(a){return a.a()});if(a){var g=a.shift();if(g){if("arg:0"===g)return c.a(a)+Q(".union("+f.join(", ")+")");g=parseInt(g.split(":")[1],10);f=f.map(Q);f[g]=b[g].a(a);return Q(c.a()+".union(")+f.join("  ")+" "}return P(c.a()+".union("+f.join(", ")+")")}return c.a()+".union("+f.join(", ")+")"})};p.f(z.prototype,"union",z.prototype.Sb);
z.prototype.ia=function(a){var a=v(a),b=this;return y(R,22,[this],function(c){return c?"arg:0"===c.shift()?b.a(c)+Q(".concatMap("+a.a()+")"):Q(b.a()+".concatMap(")+a.a(c)+" ":b.a()+".concatMap("+a.a()+")"},function(b,e){var f=new N;f.S(a.w[0]);f.D(a.body.compile(e));var g=new Wa;g.P(f);E(b,7,g)})};p.f(z.prototype,"concatMap",z.prototype.ia);function yb(a,b,c){this.Qa=a;this.Ra=b;this.Da=c}p.e(yb,z);
yb.prototype.compile=function(a){var b=new Oa,c=this.Qa.compile(a);E(b,1,c);c=this.Ra.compile(a);E(b,2,c);a=this.Da.compile(a);E(b,3,a);a=new K;a.g(4);E(a,5,b);return a};
yb.prototype.a=function(a){if(a){var b=a.shift(),c=Q(this.Qa.a()),e=Q(this.Ra.a()),f=Q(this.Da.a());if("test"===b)c=this.Qa.a(a);else if("true"===b)e=this.Ra.a(a);else if("false"===b)f=this.Da.a(a);else return P("             "+c+"  "+e+"  "+f+" ");return"             "+c+"  "+e+"  "+f+" "}return"r.branch("+this.Qa.a()+", "+this.Ra.a()+", "+this.Da.a()+")"};function zb(a,b,c){w(b,t);w(c,t);a=s(a);return y(yb,a,b,c)}p.q("rethinkdb.branch",zb);function Ab(a,b){this.ga=a;this.Ua=b}p.e(Ab,z);
Ab.prototype.compile=function(a){var b=new Ma,c;for(c in this.ga)if(this.ga.hasOwnProperty(c)){var e=this.ga[c],f=new Ka;f.na(c);f.Oa(e.compile(a));H(b,1,f)}a=this.Ua.compile(a);E(b,2,a);a=new K;a.g(2);E(a,3,b);return a};
Ab.prototype.a=function(a){var b=[],c;for(c in this.ga)this.ga.hasOwnProperty(c)&&b.push([c,this.ga[c]]);if(a){var e=a.shift().split(":")[1],b=b.map(function(b){return b[0]===e?Q("'"+b[0]+"':")+b[1].a(a):Q("'"+b[0]+"':"+b[1].a())});return Q("r.let({")+b.join("  ")+Q("}, "+this.Ua.a()+")")}b=b.map(function(a){return"'"+a[0]+"':"+a[1].a()});return"r.let({"+b.join(", ")+"}, "+this.Ua.a()+")"};function Bb(a,b){w(b,t);for(var c in a)a.hasOwnProperty(c)&&w(a[c],z);return y(Ab,a,b)}p.q("rethinkdb.let",Bb);
function Cb(a,b){this.bb=a;this.Ea=b}p.e(Cb,t);Cb.prototype.B=function(a){var b=new fb,c=this.bb.compile(a);E(b,1,c);b.na(this.Ea.w[0]);a=this.Ea.body.B(a);(a=G(a,4))||d(new C("For each requires a write query to execute"));H(b,3,a);a=new O;a.g(6);E(a,7,b);b=new D;b.g(2);E(b,4,a);return b};Cb.prototype.a=function(a){return a?(a.shift(),this.bb.a(a)+Q(".forEach("+this.Ea.a()+")")):this.bb.a()+".forEach("+this.Ea.a()+")"};z.prototype.forEach=function(a){a=v(a);return y(Cb,this,a)};
p.f(z.prototype,"forEach",z.prototype.forEach);z.prototype.zc=function(a,b){return this.ia(function(c){return a.ia(function(a){return zb(b(c,a),q([{left:c,right:a}]),q([]))})})};p.f(z.prototype,"innerJoin",z.prototype.zc);z.prototype.Lc=function(a,b){return this.ia(function(c){return Bb({matches:a.ia(function(a){return zb(b(c,a),q([{left:c,right:a}]),q([]))}).Pb()},zb(qb("matches").count().gt(0),qb("matches"),q([{left:c}])))})};p.f(z.prototype,"outerJoin",z.prototype.Lc);
z.prototype.qc=function(a,b,c){c||(c="id");return this.ia(function(e){return Bb({right:b.get(e(a),c)},zb(qb("right").ne(q(l)),q([{left:e,right:qb("right")}]),q([])))})};p.f(z.prototype,"eqJoin",z.prototype.qc);z.prototype.Wb=function(){return this.map(function(a){return zb(a.contains("right"),a("left").cb(a("right")),a("left"))})};p.f(z.prototype,"zip",z.prototype.Wb);z.prototype.Pb=function(){var a=this;return y(R,29,[this],function(b){return b?(b.shift(),a.a(b)+"                "):a.a()+".streamToArray()"})};
p.f(z.prototype,"streamToArray",z.prototype.Pb);z.prototype.dc=function(){var a=this;return y(R,30,[this],function(b){return b?(b.shift(),a.a(b)+"                "):a.a()+".arrayToStream()"})};p.f(z.prototype,"arrayToStream",z.prototype.dc);function A(a,b,c){this.L=a;this.N=b;this.Ub="boolean"===typeof c?c:l}p.e(A,z);A.prototype.compile=function(a){var b=new K;b.g(13);var c=new Qa,e=new J;e.ua(this.N||la.N);E(e,2,this.L);E(e,3,this.Ub!==l?this.Ub:a&&a.ub!==i?a.ub:m);c.F(e);E(b,15,c);return b};A.prototype.a=function(a){return a?this.N?P("r.db('"+this.N+"').table('"+this.L+"')"):P("r.table('"+this.L+"')"):this.N?"r.db('"+this.N+"').table('"+this.L+"')":"r.table('"+this.L+"')"};function Db(a,b,c){this.l=a;this.r=b;this.m=c||"id"}
p.e(Db,z);Db.prototype.compile=function(a){var b=this.l.compile(a),c=G(b,15).O(),b=new Pa;b.F(c);b.V(this.m);b.fa(this.r.compile(a));a=new K;a.g(12);E(a,14,b);return a};Db.prototype.a=function(a){if(a){var b=a.shift();return"key"===b?Q(this.l.a()+".get(")+this.r.a(a)+Q(", '"+this.m+"')"):"attrname"===b?Q(this.l.a()+".get("+this.r.a()+", ")+P("'"+this.m+"'")+" ":this.l.a(a)+Q(".get("+this.r.a()+", '"+this.m+"')")}return this.l.a()+".get("+this.r.a()+", '"+this.m+"')"};
A.prototype.get=function(a,b){x(arguments,1);a=s(a);return y(Db,this,a,b)};p.f(A.prototype,"get",A.prototype.get);function Eb(a,b,c){this.l=a;this.Aa=b;this.jd="undefined"===typeof c?m:c}p.e(Eb,t);Eb.prototype.B=function(a){var b=this.l.compile(a),c=G(b,15).O(),b=new eb;b.F(c);for(c=0;c<this.Aa.length;c++){var e=this.Aa[c].compile(a);H(b,2,e)}E(b,3,this.jd);a=new O;a.g(4);E(a,5,b);b=new D;b.g(2);E(b,4,a);return b};
Eb.prototype.a=function(a){var b=this.Aa.map(function(a){return a.a()});if(a){var b=b.map(Q),c=a.shift(),e;c!==i?(e=Q(this.l.a()),c=parseInt(c.split(":")[1],10),b[c]=this.Aa[c].a(a)):e=this.l.a(a);a=" "+b.join("  ")+" ";return e+"        "+a+" "}a="["+b.join(", ")+"]";return this.l.a()+".insert("+a+")"};A.prototype.Db=function(a,b){x(arguments,1);p.isArray(a)||(a=[a]);a=a.map(q);return new Eb(this,a,b)};p.f(A.prototype,"insert",A.prototype.Db);function Fb(a){this.I=a}p.e(Fb,t);
Fb.prototype.B=function(a){var b=new cb;b.va(this.I.compile(a));a=new O;a.g(2);E(a,3,b);b=new D;b.g(2);E(b,4,a);return b};Fb.prototype.a=function(a){return a?(a.shift(),this.I.a(a)+"      "):this.I.a()+".del()"};function Gb(a,b,c){this.l=a;this.r=b;this.m=c||"id"}p.e(Gb,t);Gb.prototype.B=function(a){var b=new hb;b.F(La(this.l.compile(a)).O());b.V(this.m);b.fa(this.r.compile(a));a=new O;a.g(8);E(a,9,b);b=new D;b.g(2);E(b,4,a);return b};
Gb.prototype.a=function(a){return a?a.shift()!==i?Q(this.l.a()+".get(")+this.r.a(a)+"       ":this.l.a(a)+Q(".get("+this.r.a()+").del()"):this.l.a()+".get("+this.r.a()+").del()"};z.prototype.nc=function(){0<arguments.length&&d(new TypeError("Method del does not take any arguments. Calling del directly on a table reference will delete the whole table. Tod delete a single row call table.get(key).del()"));return this instanceof Db?new Gb(this.l,this.r,this.m):new Fb(this)};p.f(z.prototype,"del",z.prototype.nc);
function Hb(a,b,c){this.I=a;this.s=b;this.ca=c}p.e(Hb,t);Hb.prototype.B=function(a){var b=new N;b.S(this.s.w[0]);b.D(this.s.body.compile(a));var c=new bb;c.va(this.I.compile(a));c.P(b);a=new O;a.g(1);E(a,2,c);E(a,11,!this.ca);c=new D;c.g(2);E(c,4,a);return c};Hb.prototype.a=function(a){return a?"view"===a.shift()?this.I.a(a)+Q(".update("+this.s.a()+")"):Q(this.I.a()+".update(")+this.s.a(a)+" ":this.I.a()+".update("+this.s.a()+")"};
function Ib(a,b,c,e,f){this.l=a;this.r=b;this.m=c||"id";this.s=e;this.ca=f}p.e(Ib,t);Ib.prototype.B=function(a){var b=new N;b.S(this.s.w[0]);b.D(this.s.body.compile(a));var c=new gb;c.F(La(this.l.compile(a)).O());c.V(this.m);c.fa(this.r.compile(a));c.P(b);a=new O;a.g(7);E(a,8,c);E(a,11,!this.ca);c=new D;c.g(2);E(c,4,a);return c};
Ib.prototype.a=function(a){if(a){var b=a.shift();return b===i?this.l.a(a)+Q(".get("+this.r.a()+", '"+this.m+"').update("+this.s.a()+")"):"key"===b?Q(this.l.a()+".get(")+this.r.a(a)+Q(", '"+this.m+"').update("+this.s.a()+")"):"keyname"===b?Q(this.l.a()+".get("+this.r.a()+", ")+P("'"+this.m+"'")+Q(").update("+this.s.a()+")"):Q(this.l.a()+".get("+this.r.a()+", '"+this.m+"').update(")+this.s.a(a)+" "}return this.l.a()+".get("+this.r.a()+", '"+this.m+"').update("+this.s.a()+")"};
z.prototype.update=function(a,b){x(arguments,1);a=v(a);b=b===i?m:b;return this instanceof Db?new Ib(this.l,this.r,this.m,a,b):new Hb(this,a,b)};p.f(z.prototype,"update",z.prototype.update);function Jb(a,b,c){this.I=a;this.s=b;this.ca=c}p.e(Jb,t);Jb.prototype.B=function(a){var b=new N;b.S(this.s.w[0]);b.D(this.s.body.compile(a));var c=new db;c.va(this.I.compile(a));c.P(b);a=new O;a.g(3);E(a,4,c);E(a,11,!this.ca);c=new D;c.g(2);E(c,4,a);return c};
Jb.prototype.a=function(a){return a?"view"===a.shift()?this.I.a(a)+Q(".replace("+this.s.a()+")"):Q(this.I.a()+".replace(")+this.s.a(a)+" ":this.I.a()+".replace("+this.s.a()+")"};function Kb(a,b,c,e,f){this.l=a;this.r=b;this.m=c||"id";this.s=e;this.ca=f}p.e(Kb,t);Kb.prototype.B=function(a){var b=new N;b.S(this.s.w[0]);b.D(this.s.body.compile(a));var c=new ib;c.F(La(this.l.compile(a)).O());c.V(this.m);c.fa(this.r.compile(a));c.P(b);a=new O;a.g(9);E(a,10,c);E(a,11,!this.ca);c=new D;c.g(2);E(c,4,a);return c};
Kb.prototype.a=function(a){if(a){var b=a.shift();return b===i?this.l.a(a)+Q(".get("+this.r.a()+", '"+this.m+"').mutate("+this.s.a()+")"):"key"===b?Q(this.l.a()+".get(")+this.r.a(a)+Q(", '"+this.m+"').mutate("+this.s.a()+")"):"keyname"===b?Q(this.l.a()+".get("+this.r.a()+", ")+P("'"+this.m+"'")+Q(").mutate("+this.s.a()+")"):Q(this.l.a()+".get("+this.r.a()+", '"+this.m+"').mutate(")+this.s.a(a)+" "}return this.l.a()+".get("+this.r.a()+", '"+this.m+"').mutate("+this.s.a()+")"};
z.prototype.replace=function(a,b){x(arguments,1);a=v(a);b=b===i?m:b;return this instanceof Db?new Kb(this.l,this.r,this.m,a,b):new Jb(this,a,b)};p.f(z.prototype,"replace",z.prototype.replace);function Lb(){}Lb.prototype.yb=function(a,b){return xa(a)?Mb(this,b):b};p.Wf={};function Nb(a,b){this.n=a|0;this.j=b|0}var Ob={};function Pb(a){if(-128<=a&&128>a){var b=Ob[a];if(b)return b}b=new Nb(a|0,0>a?-1:0);-128<=a&&128>a&&(Ob[a]=b);return b}function S(a){return isNaN(a)||!isFinite(a)?Qb:a<=-Rb?T:a+1>=Rb?Sb:0>a?U(S(-a)):new Nb(a%Tb|0,a/Tb|0)}function V(a,b){return new Nb(a,b)}var Tb=4294967296,Rb=Tb*Tb/2,Qb=Pb(0),Ub=Pb(1),Vb=Pb(-1),Sb=V(-1,2147483647),T=V(0,-2147483648),Wb=Pb(16777216);n=Nb.prototype;n.xa=function(){return this.j*Tb+Xb(this)};
n.toString=function(a){a=a||10;(2>a||36<a)&&d(Error("radix out of range: "+a));if(Yb(this))return"0";if(0>this.j){if(this.z(T)){var b=S(a),c=Zb(this,b),b=$b(c.multiply(b),this);return c.toString(a)+b.n.toString(a)}return"-"+U(this).toString(a)}for(var c=S(Math.pow(a,6)),b=this,e="";;){var f=Zb(b,c),g=$b(b,f.multiply(c)).n.toString(a),b=f;if(Yb(b))return g+e;for(;6>g.length;)g="0"+g;e=""+g+e}};function Xb(a){return 0<=a.n?a.n:Tb+a.n}function Yb(a){return 0==a.j&&0==a.n}
n.z=function(a){return this.j==a.j&&this.n==a.n};n.ha=function(a){if(this.z(a))return 0;var b=0>this.j,c=0>a.j;return b&&!c?-1:!b&&c?1:0>$b(this,a).j?-1:1};function U(a){return a.z(T)?T:a.fb().add(Ub)}n.add=function(a){var b=this.j>>>16,c=this.j&65535,e=this.n>>>16,f=a.j>>>16,g=a.j&65535,h=a.n>>>16,k;k=0+((this.n&65535)+(a.n&65535));a=0+(k>>>16);a+=e+h;e=0+(a>>>16);e+=c+g;c=0+(e>>>16);c=c+(b+f)&65535;return V((a&65535)<<16|k&65535,c<<16|e&65535)};function $b(a,b){return a.add(U(b))}
n.multiply=function(a){if(Yb(this)||Yb(a))return Qb;if(this.z(T))return 1==(a.n&1)?T:Qb;if(a.z(T))return 1==(this.n&1)?T:Qb;if(0>this.j)return 0>a.j?U(this).multiply(U(a)):U(U(this).multiply(a));if(0>a.j)return U(this.multiply(U(a)));if(0>this.ha(Wb)&&0>a.ha(Wb))return S(this.xa()*a.xa());var b=this.j>>>16,c=this.j&65535,e=this.n>>>16,f=this.n&65535,g=a.j>>>16,h=a.j&65535,k=a.n>>>16,a=a.n&65535,u,r,B,M;M=0+f*a;B=0+(M>>>16);B+=e*a;r=0+(B>>>16);B=(B&65535)+f*k;r+=B>>>16;B&=65535;r+=c*a;u=0+(r>>>16);
r=(r&65535)+e*k;u+=r>>>16;r&=65535;r+=f*h;u+=r>>>16;r&=65535;u=u+(b*a+c*k+e*h+f*g)&65535;return V(B<<16|M&65535,u<<16|r)};
function Zb(a,b){Yb(b)&&d(Error("division by zero"));if(Yb(a))return Qb;if(a.z(T)){if(b.z(Ub)||b.z(Vb))return T;if(b.z(T))return Ub;var c=Zb(ac(a,1),b).shiftLeft(1);if(c.z(Qb))return 0>b.j?Ub:Vb;var e=$b(a,b.multiply(c));return c.add(Zb(e,b))}if(b.z(T))return Qb;if(0>a.j)return 0>b.j?Zb(U(a),U(b)):U(Zb(U(a),b));if(0>b.j)return U(Zb(a,U(b)));for(var f=Qb,e=a;0<=e.ha(b);){for(var c=Math.max(1,Math.floor(e.xa()/b.xa())),g=Math.ceil(Math.log(c)/Math.LN2),g=48>=g?1:Math.pow(2,g-48),h=S(c),k=h.multiply(b);0>
k.j||0<k.ha(e);)c-=g,h=S(c),k=h.multiply(b);Yb(h)&&(h=Ub);f=f.add(h);e=$b(e,k)}return f}n.fb=function(){return V(~this.n,~this.j)};n.Ta=function(a){return V(this.n&a.n,this.j&a.j)};n.Lb=function(a){return V(this.n|a.n,this.j|a.j)};function bc(a,b){return V(a.n^b.n,a.j^b.j)}n.shiftLeft=function(a){a&=63;if(0==a)return this;var b=this.n;return 32>a?V(b<<a,this.j<<a|b>>>32-a):V(0,b<<a-32)};function ac(a,b){b&=63;if(0==b)return a;var c=a.j;return 32>b?V(a.n>>>b|c<<32-b,c>>b):V(c>>b-32,0<=c?0:-1)};function cc(a){for(var b=[],c=0;c<a.length;c++)b.push(String.fromCharCode(a[c]));return b.join("")}function dc(a){return new Uint8Array(Array.prototype.map.call(a,function(a){return a.charCodeAt(0)}))}function ec(){this.J=0}p.e(ec,Lb);function W(a){d(new pa("Error deserializing incorrectly formated message, "+a))}
function Mb(a,b){for(var c=Aa(b.ja()),e=[],f=0,g=0;g<c.length;g++){var h=c[g];if(Ba(b,h)){var k=0;do{var u=a.yb(h,b.get(h,k));e.push(u);f+=u.byteLength;k++}while(h.$&&k<b.sb(h))}}c=new Uint8Array(f);for(g=f=0;g<e.length;g++)h=e[g],c.set(new Uint8Array(h),f),f+=h.byteLength;return c}
ec.prototype.yb=function(a,b){var c=a.K,e=fc[c],f=gc(S(a.G<<3|e)),g;switch(e){case X:var h=S(b);if(c==wa||17==c)h=bc(h.shiftLeft(1),ac(h,63));g=gc(h);break;case hc:h=new ArrayBuffer(8);c=new DataView(h);switch(a.K){case 1:c.setFloat64(0,b,j);break;case ua:g=S(b);c.setUint32(0,Xb(g),j);c.setUint32(4,g.j,j);break;case va:g=S(b);c.setUint32(0,Xb(g),j);c.setInt32(4,g.j,j);break;default:W("Unexpected field type")}g=new Uint8Array(h);break;case ic:switch(a.K){case 11:h=Mb(this,b);break;case 9:h=dc(unescape(encodeURIComponent(b)));
break;case 12:h=dc(b);break;default:W("Unexpected field type")}g=h.length;c=gc(S(g));g=new Uint8Array(c.length+g);g.set(c,0);g.set(h,c.length);break;case jc:W("Use of Groups deprecated and not supported");break;case kc:h=new ArrayBuffer(4);c=new DataView(h);switch(a.K){case 2:c.setFloat32(0,b,j);break;case 7:c.setUint32(0,b,j);break;case 15:c.setInt32(0,b,j);break;default:W("Unexpected field type")}g=new Uint8Array(h);break;default:W("Unexpected wire type")}h=new Uint8Array(f.length+g.length);h.set(new Uint8Array(f),
0);h.set(new Uint8Array(g),f.length);return h};function gc(a){function b(a){var e=S(128),e=$b(a,Zb(a,e).multiply(e)).n,f=S(127);0<a.ha(f)?(e+=128,a=b(ac(a,7)),a.unshift(e)):a=[e];return a}a=b(a);return new Uint8Array(a)}
function lc(a,b,c){var e=b.ja();for(a.J=0;a.J<c.length;){var f=mc(a,c),g=f%8,h;h=e;f>>=3;p.h.i.assert(p.c.ab(f));h=h.Y[parseInt(f,10)]||l;var k=a,u=g,f=h,g=c,r=i;switch(u){case X:g=mc(k,g);if(f){k=i;switch(f.K){case sa:case ta:k=g.toString();break;case 5:case 13:case 14:k=g;break;case 17:g=S(g);k=bc(ac(g,1),g.shiftLeft(63)).n;break;case wa:g=S(g);k=bc(ac(g,1),g.shiftLeft(63)).toString();break;case 8:k=0===k?m:j;break;default:W("Unexpected field type")}r=k}else r=l;break;case ic:u=mc(k,g);g=new Uint8Array(g.buffer,
g.byteOffset+k.J,u);k.J+=u;if(f){k=i;switch(f.K){case 9:k=decodeURIComponent(escape(cc(g)));break;case 12:k=cc(g);break;case 11:k=new ec;p.h.i.assert(xa(f),"Expected message or group");f=new f.eb.A.Fc;lc(k,f,g);p.h.i.assert(f instanceof F);k=f;break;default:W("Unexpected field type")}r=k}else r=l;break;case kc:g=new DataView(g.buffer,g.byteOffset+k.J,4);k.J+=4;if(f){k=i;switch(f.K){case 2:k=g.getFloat32(0,j);break;case 7:k=g.getUint32(0,j);break;case 15:k=g.getInt32(0,j);break;default:W("Unexpected field type")}r=
k}else r=l;break;case hc:g=new DataView(g.buffer,g.byteOffset+k.J,8);k.J+=8;if(f){k=i;switch(f.K){case 1:k=g.getFloat64(0,j);break;case ua:k=(new Nb(g.getUint32(0,j),g.getUint32(4,j))).toString();break;case va:k=(new Nb(g.getUint32(0,j),g.getInt32(4,j))).toString();break;default:W("Unexpected field type")}r=k}else r=l;break;default:W("Unexpected wire type of "+u)}g=r;h!=l&&g!=l&&(h.$?b.add(h,g):b.set(h,g))}}function mc(a,b){var c=b[a.J++];if(127<c)var c=c-128,e=mc(a,b),c=c+(e<<7);return c}
var X=0,hc=1,ic=2,jc=3,kc=5,fc=[-1,hc,kc,X,X,X,hc,kc,X,ic,jc,ic,ic,X,X,kc,hc,X,X];function nc(a){this.name="Runtime Error";this.message=a||"The RDB runtime experienced an error"}p.e(nc,Error);p.q("rethinkdb.errors.RuntimeError",nc);function oc(a){this.name="Broken Client";this.message=a||"The client sent the server an incorrectly formatted message"}p.e(oc,Error);p.q("rethinkdb.errors.BrokenClient",oc);function pc(a){this.name="Bad Query";this.message=a||"This query contains type errors"}p.e(pc,Error);p.q("rethinkdb.errors.BadQuery",pc);
function C(a){this.name="RDB Client Error";this.message=a||"The RDB client has experienced an error"}p.e(C,Error);p.q("rethinkdb.errors.ClientError",C);
function sb(a,b,c){var e=Array.prototype.slice.call(arguments,2);return function(c){var g=e.map(function(a){return a instanceof t?a.a():a.toString()}),h=b.a()+"."+a+"("+g.join(", ")+")";if(c){if(0===c.length)return P(h);h=c.shift();"lowerbound"===h?h="arg:1":"upperbound"===h&&(h="arg:2");var k=h.split(":");if("arg"===k[0])return k[1]=parseInt(k[1],10),g=g.map(Q),0===k[1]?h=b.a(c):(h=Q(b.a()),k=k[1]-1,c=e[k].a(c),g[k]=c),g=g.join("  "),h+" "+Q(a)+" "+g+" "}else return h}}
function Q(a){return a.replace(/./g," ")}function P(a){return a.replace(/./g,"^")};function qc(a,b,c){this.Xa=a;this.Pc=b;this.cd=c;this.sa=[];this.$a=m;this.za=l;this.wa=m}qc.prototype.close=function(){delete this.Xa.ka[this.cd]};qc.prototype.next=function(a){var b=this.sa.shift();b===i?this.$a?a(b):(this.za=p.bind(this.next,this,a),this.wa&&rc(this.Xa),this.wa=m):a(b)&&this.next(a)};p.f(qc.prototype,"next",qc.prototype.next);qc.prototype.Va=function(a){this.$a?a(this.sa.splice(0,this.sa.length)):(this.za=p.bind(this.Va,this,a),this.wa&&rc(this.Xa),this.wa=m)};
p.f(qc.prototype,"collect",qc.prototype.Va);function sc(a,b,c){p.isArray(b)?Array.prototype.push.apply(a.sa,b):a.sa.push(b);a.$a=c;a.wa=j;a.za&&a.za()};function Y(a,b){"undefined"===typeof a?a={}:"string"===typeof a&&(a={host:a});this.Ga=a.host||this.Yb;this.La=a.port||this.jb;this.N=a.db||this.Xb;w(this.Ga,"string");w(this.La,"number");w(this.N,"string");this.ka={};this.Ic=1;this.Ba=b||l;la=this}Y.prototype.Yb="localhost";Y.prototype.jb=28015;Y.prototype.Xb="test";Y.prototype.Rc=function(a){this.constructor.call(this,{host:this.Ga,port:this.La,db:this.N},a,this.Ba)};p.f(Y.prototype,"reconnect",Y.prototype.Rc);
function Z(a,b){a.Ba?a.Ba(b):a.fg?console.log(b.name+":"+b.message):d(b)}Y.prototype.Uc=function(a){this.Ba=a};p.f(Y.prototype,"setErrorHandler",Y.prototype.Uc);function tc(a,b){var c=Mb(new ec,b),e=c.byteLength,f=new Uint8Array(e+4);(new DataView(f.buffer)).setInt32(0,e,j);f.set(c,4);a.Nb(f.buffer)}
Y.prototype.ma=function(a,b){x(arguments,1);w(a,t);var c,e;"function"===typeof b?c=b:(c=b.callback,e=b.useOutdated);e=a.B({ub:e});e.hb((this.Ic++).toString());var f=new qc(this,a,e.ea());this.ka[e.ea()]=f;tc(this,e);c&&f.next(c);return f};p.f(Y.prototype,"run",Y.prototype.ma);
function uc(a,b){(new DataView(b.buffer)).getUint32(0,j)!==b.length-4&&Z(a,new C("RDB response corrupted, length inaccurate"));var c=new ec,e=new mb;try{lc(c,e,new Uint8Array(b.buffer,4))}catch(f){Z(a,new C("response deserialization failed"))}if(c=a.ka[e.ea()])switch(G(e,1)){case 101:var g=new oc(G(e,4));sc(c,g,j);break;case 103:var g=c.Pc,h=G(e,4),e=G(e,5),k=[];e&&(k=Ga(e,1));g=h+"\n\t"+g.a()+"\n\t"+g.a(k);g=new nc(g);sc(c,g,j);break;case 102:g=new pc(G(e,4));sc(c,g,j);break;case 0:delete a.ka[e.ea()];
sc(c,[],j);break;case 3:delete a.ka[e.ea()];g=Ga(e,3).map(JSON.parse);sc(c,g,j);break;case 1:delete a.ka[e.ea()];g=JSON.parse(G(e,3,0));sc(c,g,j);break;case 2:g=Ga(e,3).map(JSON.parse);sc(c,g,m);break;default:g=new C("unknown response status code"),sc(c,g,j)}}Y.prototype.kd=function(a){x(arguments,1);w(a,"string");this.N=a};p.f(Y.prototype,"use",Y.prototype.kd);Y.prototype.vc=function(){return this.N};p.f(Y.prototype,"getDefaultDb",Y.prototype.vc);
function rc(a){var b=new D;b.g(3);b.hb(i);tc(a,b)};function vc(a,b){this.Qb=a;this.M=b||l}p.e(vc,t);vc.prototype.B=function(){var a=new jb;a.g(this.Qb);this.M&&a.ua(this.M);var b=new D;b.g(5);E(b,5,a);return b};vc.prototype.a=function(a){var b=this.M?"'"+this.M+"'":"",c,e="";switch(this.Qb){case 1:c="dbCreate";break;case 2:c="dbDrop";break;case 3:c="dbList";break;case 6:c="db",e=".tableList()"}b="r."+c+"("+b+")";return a?P(b)+Q(e):b+e};p.q("rethinkdb.dbCreate",function(a){x(arguments,1);w(a,"string");return new vc(1,a)});
p.q("rethinkdb.dbDrop",function(a){x(arguments,1);w(a,"string");return new vc(2,a)});p.q("rethinkdb.dbList",function(){return new vc(3)});function $(a){this.L=a}p.q("rethinkdb.db",function(a){x(arguments,1);w(a,"string");return new $(a)});$.prototype.$c=function(){return new vc(6,this.L)};p.f($.prototype,"tableList",$.prototype.$c);function wc(a,b,c,e,f){this.qa=a;this.M=b;this.aa=c;this.m=e;this.pa=f}p.e(wc,t);
wc.prototype.B=function(){var a=new J;a.ua(this.M);E(a,2,this.aa);var b=new kb;this.qa&&E(b,1,this.qa);b.F(a);this.m&&E(b,4,this.m);this.pa&&E(b,5,this.pa);a=new jb;a.g(4);E(a,3,b);b=new D;b.g(5);E(b,5,a);return b};
wc.prototype.a=function(a){var b;this.qa||this.m||this.pa?(b=[],this.qa&&b.push("dataCenter: '"+this.qa+"'"),this.m&&b.push("primaryKey: '"+this.m+"'"),this.pa&&b.push("cacheSize: '"+this.pa+"'"),this.aa&&b.push("tableName: '"+this.aa+"'"),b="{"+b.join(", ")+"}"):b="'"+this.aa+"'";b="r.db('"+this.M+"').create("+b+")";return a?P(b):b};
$.prototype.Yc=function(a){x(arguments,1);var b={};"string"===typeof a?b.tableName=a:b=a;w(b.tableName,"string");w(b.primaryKey,"string");w(b.dataCenter,"string");w(b.cacheSize,"string");return new wc(b.dataCenter,this.L,b.tableName,b.primaryKey,b.cacheSize)};p.f($.prototype,"tableCreate",$.prototype.Yc);function xc(a,b){x(arguments,1);this.M=a;this.aa=b}p.e(xc,t);xc.prototype.B=function(){var a=new J;a.ua(this.M);E(a,2,this.aa);var b=new jb;b.g(5);E(b,4,a);a=new D;a.g(5);E(a,5,b);return a};
xc.prototype.a=function(a){return a?P("r.db('"+this.M+"').drop('"+this.aa+"')"):"r.db('"+this.M+"').drop('"+this.aa+"')"};$.prototype.Zc=function(a){x(arguments,1);w(a,"string");return new xc(this.L,a)};p.f($.prototype,"tableDrop",$.prototype.Zc);$.prototype.Xc=function(a,b){x(arguments,1);w(a,"string");w(b,"boolean");return new A(a,this.L,b)};p.f($.prototype,"table",$.prototype.Xc);function yc(a,b,c){w(b,"function");w(c,"function");Y.call(this,a,c);this.oa="";var e=this,f="http://"+this.Ga+":"+this.La+"/ajax/reql/",g=new XMLHttpRequest;g.open("GET",f+"open-new-connection",j);g.responseType="arraybuffer";g.onreadystatechange=function(){4===g.readyState&&(200===g.status?(e.oa=f,e.Ya=(new DataView(g.response)).getInt32(0,j),b&&b(e)):Z(e,new C("Unabled to establish HTTP connection")))};g.send()}p.e(yc,Y);p.q("rethinkdb.HttpConnection",yc);yc.prototype.jb=8080;
yc.prototype.Nb=function(a){this.oa||Z(this,new C("Connection not open"));var b=new XMLHttpRequest;b.open("POST",this.oa+"?conn_id="+this.Ya,j);b.responseType="arraybuffer";var c=this;b.onreadystatechange=function(){4===b.readyState&&200===b.status&&uc(c,new Uint8Array(b.response))};b.send(a)};yc.prototype.close=function(){this.oa||Z(this,new C("Connection not open"));var a=new XMLHttpRequest;a.open("POST",this.oa+"close-connection?conn_id="+this.Ya,j);a.send();this.oa=this.Ya=l};
p.f(yc.prototype,"close",yc.prototype.close);function zc(a,b,c){Ac()||Z(this,new C("Cannot instantiate TcpConnection, TCP sockets are not available in this environment."));w(b,"function");w(c,"function");Y.call(this,a,c);this.la=l;this.mg=0;this.T=l;var e=this;e.T=l;var f=require("net").connect(this.La,this.Ga,function(){f.write("35ba61af","hex");f.on("data",p.bind(e.ad,e));f.on("end",function(){e.T=l;Z(e,new nc("Server disconnected"))});e.T=f;b&&b(e)});f.on("error",function(){Z(e,new C("Unabled to establish TCP connection"))})}p.e(zc,Y);
p.q("rethinkdb.TcpConnection",zc);function Ac(){return"undefined"!==typeof require&&require("net")}p.f(zc,"isAvailable",Ac);zc.prototype.Nb=function(a){this.T||Z(this,new C("Connection not open"));for(var b=new Buffer(a.byteLength),c=new Uint8Array(a),e=0;e<a.byteLength;e++)b[e]=c[e];this.T.write(b)};
zc.prototype.ad=function(a){for(var a=new Uint8Array(a),b=0,c=a.byteLength;0<c;){if(this.la===l){var e=(new DataView(a.buffer,b,c)).getUint32(0,j);this.la=new Uint8Array(e+4);this.ta=0}var e=this.la.byteLength-this.ta,f=c<e?c:e,g=new Uint8Array(a.buffer,b,f);this.la.set(g,this.ta);this.ta+=f;b+=f;c-=f;e-=f;0>=e&&(e=this.la,this.la=l,this.ta=0,uc(this,e))}};
zc.prototype.close=function(){this.T||Z(this,new C("Connection not open"));var a=this;this.T.removeAllListeners("end");this.T.on("close",function(){a.T=l});this.T.end()};p.f(zc.prototype,"close",zc.prototype.close);p.q("rethinkdb.connect",function(a,b,c){return Ac()?new zc(a,b,c):new yc(a,b,c)});var la=l;p.q("rethinkdb.lastConnection",function(){return la});"undefined"!==typeof exports&&("undefined"!==typeof module&&module.exports?exports=module.exports=p.global.rethinkdb:exports.rethinkdb=p.global.rethinkdb);
})();
